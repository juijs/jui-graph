!function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=12)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r={},a={},o={},s=r["util.base"]={browser:{webkit:"WebkitAppearance"in document.documentElement.style,mozilla:void 0!==window.mozInnerScreenX,msie:-1!=window.navigator.userAgent.indexOf("Trident")},isTouch:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(window.navigator.userAgent),inherit:function(t,e){this.typeCheck("function",t)&&this.typeCheck("function",e)&&(t.parent=e,t.prototype=new e,t.prototype.constructor=t,t.prototype.parent=t.prototype,t.prototype.super=function(t,e){return this.constructor.prototype[t].apply(this,e)})},extend:function(t,e,i){if(this.typeCheck(["object","function"],t)||(t={}),!this.typeCheck(["object","function"],e))return t;for(var n in e)!0===i?r(t[n])?this.extend(t[n],e[n],i):this.typeCheck("undefined",t[n])&&(t[n]=e[n]):r(t[n])?this.extend(t[n],e[n],i):t[n]=e[n];function r(t){return s.typeCheck("object",t)}return t},pxToInt:function(t){return this.typeCheck("string",t)&&-1!=t.indexOf("px")?parseInt(t.split("px").join("")):t},clone:function(t){var e=this.typeCheck("array",t)?[]:{};for(var i in t)this.typeCheck("object",t[i])?e[i]=this.clone(t[i]):e[i]=t[i];return e},deepClone:function(t,e){var i=null;if(e=e||{},this.typeCheck("array",t)){i=new Array(t.length);for(var n=0,r=t.length;n<r;n++)i[n]=this.deepClone(t[n],e)}else if(this.typeCheck("date",t))i=t;else if(this.typeCheck("object",t))for(var a in i={},t)e[a]?i[a]=t[a]:i[a]=this.deepClone(t[a],e);else i=t;return i},runtime:function(t,e){var i=(new Date).getTime();e();var n=(new Date).getTime();console.warn(t+" : "+(n-i)+"ms")},resize:function(t,e){var i=function(){var i=0;return function(){clearTimeout(i),i=setTimeout(t,e)}}();window.addEventListener?window.addEventListener("resize",i):object.attachEvent?window.attachEvent("onresize",i):window.onresize=i},typeCheck:function(t,e){function i(t,e){return"string"==typeof t&&("string"==t?"string"==typeof e:"integer"==t?"number"==typeof e&&e%1==0:"float"==t?"number"==typeof e&&e%1!=0:"number"==t?"number"==typeof e:"boolean"==t?"boolean"==typeof e:"undefined"==t?void 0===e:"null"==t?null===e:"array"==t?e instanceof Array:"date"==t?e instanceof Date:"function"==t?"function"==typeof e:"object"==t&&!("object"!=(void 0===e?"undefined":n(e))||null===e||e instanceof Array||e instanceof Date||e instanceof RegExp))}if("object"==(void 0===t?"undefined":n(t))&&t.length){for(var r=t,a=0;a<r.length;a++)if(i(r[a],e))return!0;return!1}return i(t,e)},typeCheckObj:function(t,e){if("object"==(void 0===t?"undefined":n(t))){var i=this;for(var r in t){var a=t[r];"function"==typeof a&&function(n,r){t[n]=function(){for(var t=arguments,a=e[n],o=0;o<t.length;o++)if(!i.typeCheck(a[o],t[o]))throw new Error("JUI_CRITICAL_ERR: the "+o+"th parameter is not a "+a[o]+" ("+name+")");return r.apply(this,t)}}(r,a)}}},dateFormat:function(t,e,i){var n=["\0","January","February","March","April","May","June","July","August","September","October","November","December"],r=["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],a=["","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],o=["","Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function s(t,e){var i=t+"";for(e=e||2;i.length<e;)i="0"+i;return i}var h=i?t.getUTCFullYear():t.getFullYear();e=(e=(e=e.replace(/(^|[^\\])yyyy+/g,"$1"+h)).replace(/(^|[^\\])yy/g,"$1"+h.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+h);var u=(i?t.getUTCMonth():t.getMonth())+1;e=(e=(e=(e=e.replace(/(^|[^\\])MMMM+/g,"$1"+n[0])).replace(/(^|[^\\])MMM/g,"$1"+r[0])).replace(/(^|[^\\])MM/g,"$1"+s(u))).replace(/(^|[^\\])M/g,"$1"+u);var l=i?t.getUTCDate():t.getDate();e=(e=(e=(e=e.replace(/(^|[^\\])dddd+/g,"$1"+a[0])).replace(/(^|[^\\])ddd/g,"$1"+o[0])).replace(/(^|[^\\])dd/g,"$1"+s(l))).replace(/(^|[^\\])d/g,"$1"+l);var c=i?t.getUTCHours():t.getHours();e=(e=e.replace(/(^|[^\\])HH+/g,"$1"+s(c))).replace(/(^|[^\\])H/g,"$1"+c);var d=c>12?c-12:0==c?12:c;e=(e=e.replace(/(^|[^\\])hh+/g,"$1"+s(d))).replace(/(^|[^\\])h/g,"$1"+d);var f=i?t.getUTCMinutes():t.getMinutes();e=(e=e.replace(/(^|[^\\])mm+/g,"$1"+s(f))).replace(/(^|[^\\])m/g,"$1"+f);var p=i?t.getUTCSeconds():t.getSeconds();e=(e=e.replace(/(^|[^\\])ss+/g,"$1"+s(p))).replace(/(^|[^\\])s/g,"$1"+p);var g=i?t.getUTCMilliseconds():t.getMilliseconds();e=e.replace(/(^|[^\\])fff+/g,"$1"+s(g,3)),g=Math.round(g/10),e=e.replace(/(^|[^\\])ff/g,"$1"+s(g)),g=Math.round(g/10),e=e.replace(/(^|[^\\])f/g,"$1"+g);var v=c<12?"AM":"PM";e=(e=e.replace(/(^|[^\\])TT+/g,"$1"+v)).replace(/(^|[^\\])T/g,"$1"+v.charAt(0));var m=v.toLowerCase();e=(e=e.replace(/(^|[^\\])tt+/g,"$1"+m)).replace(/(^|[^\\])t/g,"$1"+m.charAt(0));var y=-t.getTimezoneOffset(),x=i||!y?"Z":y>0?"+":"-";if(!i){var w=(y=Math.abs(y))%60;x+=s(Math.floor(y/60))+":"+s(w)}e=e.replace(/(^|[^\\])K/g,"$1"+x);var b=(i?t.getUTCDay():t.getDay())+1;return e=(e=(e=(e=(e=e.replace(new RegExp(a[0],"g"),a[b])).replace(new RegExp(o[0],"g"),o[b])).replace(new RegExp(n[0],"g"),n[u])).replace(new RegExp(r[0],"g"),r[u])).replace(/\\(.)/g,"$1")},createId:function(t){return[t||"id",+new Date,Math.round(100*Math.random())%100].join("-")},timeLoop:function(t,e){return function(i,n){!function t(r){r<1||(1==r?(i.call(e,r),n.call(e)):setTimeout(function(){r>-1&&i.call(e,r--),r>-1&&t(r)},1))}(t)}},loop:function(t,e){var i=t,n=Math.ceil(t/5);return function(t){for(var r=0,a=1*n,o=2*n,s=3*n,h=4*n,u=a,l=o,c=s,d=h,f=i;r<u&&r<i;)t.call(e,r,1),r++,a<l&&a<i&&(t.call(e,a,2),a++),o<c&&o<i&&(t.call(e,o,3),o++),s<d&&s<i&&(t.call(e,s,4),s++),h<f&&h<i&&(t.call(e,h,5),h++)}},loopArray:function(t,e){var i=t.length,n=i,r=Math.ceil(i/5);return function(i){for(var a=0,o=1*r,s=2*r,h=3*r,u=4*r,l=o,c=s,d=h,f=u,p=n;a<l&&a<n;)i.call(e,t[a],a,1),a++,o<c&&o<n&&(i.call(e,t[o],o,2),o++),s<d&&s<n&&(i.call(e,t[s],s,3),s++),h<f&&h<n&&(i.call(e,t[h],h,4),h++),u<p&&u<n&&(i.call(e,t[u],u,5),u++)}},startsWith:function(t,e,i){return i=i||0,t.lastIndexOf(e,i)===i},endsWith:function(t,e,i){var n=t;(void 0===i||i>n.length)&&(i=n.length),i-=e.length;var r=n.indexOf(e,i);return-1!==r&&r===i},inArray:function(t,e){if(this.typeCheck(["undefined","null"],t)||!this.typeCheck("array",e))return-1;for(var i=0,n=e.length;i<n;i++)if(e[i]==t)return i;return-1},trim:function(t){var e=new RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g");return null==t?"":(t+"").replace(e,"")},ready:function(){var t,e,i={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},n={isReady:!1,readyWait:1,holdReady:function(t){t?n.readyWait++:n.ready(!0)},ready:function(e){if(!0===e&&!--n.readyWait||!0!==e&&!n.isReady){if(!document.body)return setTimeout(n.ready,1);if(n.isReady=!0,!0!==e&&--n.readyWait>0)return;t.resolveWith(document,[n])}},bindReady:function(){if(!t){if(t=n._Deferred(),"complete"===document.readyState)return setTimeout(n.ready,1);if(document.addEventListener)document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",n.ready,!1);else if(document.attachEvent){document.attachEvent("onreadystatechange",e),window.attachEvent("onload",n.ready);var i=!1;try{i=null==window.frameElement}catch(t){}document.documentElement.doScroll&&i&&r()}}},_Deferred:function(){var t,e,i,r=[],a={done:function(){if(!i){var e,o,s,h,u,l=arguments;for(t&&(u=t,t=0),e=0,o=l.length;e<o;e++)s=l[e],"array"===(h=n.type(s))?a.done.apply(a,s):"function"===h&&r.push(s);u&&a.resolveWith(u[0],u[1])}return this},resolveWith:function(n,a){if(!i&&!t&&!e){a=a||[],e=1;try{for(;r[0];)r.shift().apply(n,a)}finally{t=[n,a],e=0}}return this},resolve:function(){return a.resolveWith(this,arguments),this},isResolved:function(){return!(!e&&!t)},cancel:function(){return i=1,r=[],this}};return a},type:function(t){return null==t?String(t):i[Object.prototype.toString.call(t)]||"object"}};function r(){if(!n.isReady){try{document.documentElement.doScroll("left")}catch(t){return void setTimeout(r,1)}n.ready()}}return document.addEventListener?e=function(){document.removeEventListener("DOMContentLoaded",e,!1),n.ready()}:document.attachEvent&&(e=function(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",e),n.ready())}),function(e){n.bindReady(),n.type(e),t.done(e)}}(),param:function(t){var e=[],i=function(t,i){i=s.typeCheck("function",i)?i():null==i?"":i,e[e.length]=encodeURIComponent(t)+"="+encodeURIComponent(i)};for(var n in t)i(n,t[n]);return e.join("&").replace(/%20/g,"+")},ajax:function(t){var e=null,i="",n=null,r=s.extend({url:null,type:"GET",data:null,async:!0,success:null,fail:null},t);if(this.typeCheck("string",r.url)&&this.typeCheck("function",r.success)){if(this.typeCheck("object",r.data)&&(i=this.param(r.data)),this.typeCheck("undefined",XMLHttpRequest))for(var a=["MSXML2.XmlHttp.5.0","MSXML2.XmlHttp.4.0","MSXML2.XmlHttp.3.0","MSXML2.XmlHttp.2.0","Microsoft.XmlHttp"],o=0,h=a.length;o<h;o++)try{e=new ActiveXObject(a[o]);break}catch(t){}else e=new XMLHttpRequest;null!=e&&(e.open(r.type,r.url,r.async),e.send(i),n=function(){4===e.readyState&&200==e.status?r.success(e):s.typeCheck("function",r.fail)&&r.fail(e)},r.async?e.onreadystatechange=n:n())}},scrollWidth:function(){var t=document.createElement("p");t.style.width="100%",t.style.height="200px";var e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.visibility="hidden",e.style.width="200px",e.style.height="150px",e.style.overflow="hidden",e.appendChild(t),document.body.appendChild(e);var i=t.offsetWidth;e.style.overflow="scroll";var n=t.offsetWidth;return i==n&&(n=e.clientWidth),document.body.removeChild(e),i-n}},h=function(t){for(var e=[],i=0;i<t.length;i++){var n=r[t[i]];if(s.typeCheck(["function","object"],n))e.push(n);else{var a=u(t[i]);null==a?(console.warn("JUI_WARNING_MSG: '"+t[i]+"' is not loaded"),e.push(null)):e.push(a)}}return e},u=function(t){var e=null;t+=".";for(var i in r)if(-1!=i.indexOf(t)&&s.typeCheck(["function","object"],r[i])){var n=i.split(t).join("");-1==n.indexOf(".")&&(null==e&&(e={}),e[n]=r[i])}return e},l={ready:function(){var t=[],e=2==arguments.length?arguments[1]:arguments[0],i=2==arguments.length?arguments[0]:null;if(!s.typeCheck(["array","null"],i)||!s.typeCheck("function",e))throw new Error("JUI_CRITICAL_ERR: Invalid parameter type of the function");s.ready(function(){if(i)t=h(i);else{var n=u("ui"),r={};s.extend(r,n),s.extend(r,u("grid")),t=[n,r,s]}e.apply(null,t)})},defineUI:function(t,e,i,n){if(!(s.typeCheck("string",t)&&s.typeCheck("array",e)&&s.typeCheck("function",i)&&s.typeCheck(["string","undefined"],n)))throw new Error("JUI_CRITICAL_ERR: Invalid parameter type of the function");if(s.typeCheck("function",o[t]))throw new Error("JUI_CRITICAL_ERR: '"+t+"' is already exist");if(s.typeCheck("undefined",n)&&(n="core"),!s.typeCheck("function",o[n]))throw new Error("JUI_CRITICAL_ERR: Parents are the only function");if(!0!==a[n])throw new Error("JUI_CRITICAL_ERR: UI function can not be inherited");var u=h(e),l=i.apply(null,u);s.inherit(l,o[n]),r[t]=o[n].init({type:t,class:l}),o[t]=l,a[t]=!0},redefineUI:function(t,e,i,n,s){s||!0!==a[t]||(r[t]=null,o[t]=null,a[t]=!1),(!s||s&&!0!==a[t])&&this.defineUI(t,e,i,n)},createUIObject:function(t,e,i,n,r,a){var o=new t.class,h=l.defineOptions(t.class,r||{});for(var u in o.init.prototype=o,o.init.prototype.selector=e,o.init.prototype.root=n,o.init.prototype.options=h,o.init.prototype.tpl={},o.init.prototype.event=new Array,o.init.prototype.timestamp=(new Date).getTime(),o.init.prototype.index=i,o.init.prototype.module=t,s.typeCheck("function",a)&&a(o,h),h.tpl){var c=h.tpl[u];s.typeCheck("string",c)&&""!=c&&(o.init.prototype.tpl[u]=s.template(c))}var d=new o.init;for(var f in h.event)d.on(f,h.event[f]);return n.jui=d,d},define:function(t,e,i,n){if(!(s.typeCheck("string",t)&&s.typeCheck("array",e)&&s.typeCheck("function",i)&&s.typeCheck(["string","undefined","null"],n)))throw new Error("JUI_CRITICAL_ERR: Invalid parameter type of the function");if(s.typeCheck("function",o[t]))throw new Error("JUI_CRITICAL_ERR: '"+t+"' is already exist");var u=h(e),l=i.apply(null,u);if(s.typeCheck("function",o[n])){if(!0!==a[n])throw new Error("JUI_CRITICAL_ERR: UI function can not be inherited");s.inherit(l,o[n])}r[t]=l,o[t]=l,a[t]=!0},redefine:function(t,e,i,n,s){s||!0!==a[t]||(r[t]=null,o[t]=null,a[t]=!1),(!s||s&&!0!==a[t])&&this.define(t,e,i,n)},defineOptions:function(t,e,i){for(var n=function t(e,i){if(s.typeCheck("function",e)){if(s.typeCheck("function",e.setup)){var n=e.setup();for(var r in n)s.typeCheck("undefined",i[r])&&(i[r]=n[r])}t(e.parent,i)}return i}(t,{}),r=Object.keys(n),a=Object.keys(e),o=0;o<a.length;o++){var h=a[o];if(-1==s.inArray(h,r)&&-1==s.inArray(h,i))throw new Error("JUI_CRITICAL_ERR: '"+h+"' is not an option")}return s.extend(e,n,!0),e},include:function(t){if(!s.typeCheck("string",t))throw new Error("JUI_CRITICAL_ERR: Invalid parameter type of the function");var e=r[t];if(s.typeCheck(["function","object"],e))return e;var i=u(t);return null==i?(console.warn("JUI_WARNING_MSG: '"+t+"' is not loaded"),null):i},includeAll:function(){var t=[];for(var e in r)t.push(r[e]);return t},use:function(){for(var t=[],e=0;e<arguments.length;e++)if(s.typeCheck("array",arguments[e]))for(var i=arguments[e],r=0;r<i.length;r++)s.typeCheck("object",i[r])&&t.push(i[r]);else s.typeCheck("object",arguments[e])&&t.push(arguments[e]);for(e=0;e<t.length;e++){var a=t[e];if("object"==(void 0===a?"undefined":n(a))){if("string"!=typeof a.name)return;if("function"!=typeof a.component)return;null!=a.extend&&null==l.include(a.extend)&&console.warn("JUI_WARNING_MSG: '"+a.extend+"' module should be imported in first"),"core"==a.extend?l.redefineUI(a.name,[],a.component,a.extend):l.redefine(a.name,[],a.component,a.extend)}}}};e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"util.svg.element",extend:null,component:function(){return function t(){var e=[];this.create=function(t,e){this.element=document.createElementNS("http://www.w3.org/2000/svg",t),this.children=[],this.parent=null,this.styles={},this.attributes={},this.order=0,this.attr(e)},this.each=function(t){if("function"==typeof t){for(var e=0,i=this.children.length;e<i;e++){var n=this.children[e];t.apply(n,[e,n])}return this.children}},this.get=function(t){return this.children[t]?this.children[t]:null},this.index=function(t){for(var e=0;e<this.children.length;e++)if(t==this.children[e])return e;return-1},this.append=function(e){return e instanceof t&&(e.parent&&e.remove(),this.children.push(e),e.parent=this),this},this.prepend=function(t){return this.insert(0,t)},this.insert=function(t,e){return e.parent&&e.remove(),this.children.splice(t,0,e),e.parent=this,this},this.remove=function(){for(var t=[],e=this.parent.children,i=0;i<e.length&&e[i]!=this;i++)t.push(e[i]);return this.parent.children=t,this},this.attr=function(t){if(void 0!==t&&t){if("string"==typeof t)return this.attributes[t]||this.element.getAttribute(t);for(var e in t)this.attributes[e]=t[e],-1!=e.indexOf("xlink:")?this.element.setAttributeNS("http://www.w3.org/1999/xlink",e,t[e]):this.element.setAttribute(e,t[e]);return this}},this.css=function(t){var e=[];for(var i in t)this.styles[i]=t[i];for(var i in t)e.push(i+":"+t[i]);return this.attr({style:e.join(";")}),this},this.html=function(t){return this.element.innerHTML=t,this},this.text=function(t){for(var e=this.element.childNodes,i=0;i<e.length;i++)this.element.removeChild(e[i]);return this.element.appendChild(document.createTextNode(t)),this},this.on=function(t,i){var n=function(t){"function"==typeof i&&i.call(this,t)};return this.element.addEventListener(t,n,!1),e.push({type:t,callback:n}),this},this.off=function(t){if(t){var i=[];for(n=0,r=e.length;n<r;n++)(a=e[n]).type!=t?i.push(a):this.element.removeEventListener(a.type,a.callback,!1);e=i}else for(var n=0,r=e.length;n<r;n++){var a=e.shift();this.element.removeEventListener(a.type,a.callback,!1)}return this},this.hover=function(t,i){var n=function(e){"function"==typeof t&&t.call(this,e)},r=function(t){"function"==typeof i&&i.call(this,t)};return this.element.addEventListener("mouseover",n,!1),this.element.addEventListener("mouseout",r,!1),e.push({type:"mouseover",callback:n}),e.push({type:"mouseout",callback:r}),this},this.size=function(){var t={width:0,height:0},e=this.element.getBoundingClientRect();if(!e||0==e.width&&0==e.height){for(var i=["height","paddingTop","paddingBottom","borderTopWidth","borderBottomWidth"],n=["width","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"],r=window.getComputedStyle(this.element),a=0;a<i.length;a++)t.height+=parseFloat(r[i[a]]);for(a=0;a<n.length;a++)t.width+=parseFloat(r[n[a]]);t.width=t.width||this.element.getAttribute("width"),t.height=t.height||this.element.getAttribute("height")}else t.width=e.width,t.height=e.height;return isNaN(t.width)&&(t.width=0),isNaN(t.height)&&(t.height=0),t},this.is=function(t){return this instanceof jui.include(t)}}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t&&t.__esModule?t:{default:t}}(i(0));e.default={name:"util.svg.element.transform",extend:"util.svg.element",component:function(){var t=n.default.include("util.base");return function(){var e={translate:null,scale:null,rotate:null,skew:null,matrix:null};function i(t){var i=[];for(var n in e)e[n]&&i.push(e[n]);t.attr({transform:i.join(" ")})}function n(t){for(var e=[],i=0;i<t.length;i++)e.push(t[i]);return e.join(",")}this.translate=function(){return e.translate="translate("+n(arguments)+")",i(this),this},this.rotate=function(t,n,r){if(1==arguments.length)var a=t;else 3==arguments.length&&(a=t+" "+n+","+r);return e.rotate="rotate("+a+")",i(this),this},this.scale=function(){return e.scale="scale("+n(arguments)+")",i(this),this},this.skew=function(){return e.skew="skew("+n(arguments)+")",i(this),this},this.matrix=function(){return e.matrix="matrix("+n(arguments)+")",i(this),this},this.data=function(e){var i=this.attr("transform");return t.typeCheck("string",i)?i.match({translate:/[^translate()]+/g,rotate:/[^rotate()]+/g,scale:/[^scale()]+/g,skew:/[^skew()]+/g,matrix:/[^matrix()]+/g}[e])[0]:null}}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t&&t.__esModule?t:{default:t}}(i(0));e.default={name:"util.svg.element.path",extend:"util.svg.element.transform",component:function(){var t=n.default.include("util.base");return function(){var e=[];this.moveTo=function(t,i,n){return e.push((n||"m")+t+","+i),this},this.MoveTo=function(t,e){return this.moveTo(t,e,"M")},this.lineTo=function(t,i,n){return e.push((n||"l")+t+","+i),this},this.LineTo=function(t,e){return this.lineTo(t,e,"L")},this.hLineTo=function(t,i){return e.push((i||"h")+t),this},this.HLineTo=function(t){return this.hLineTo(t,"H")},this.vLineTo=function(t,i){return e.push((i||"v")+t),this},this.VLineTo=function(t){return this.vLineTo(t,"V")},this.curveTo=function(t,i,n,r,a,o,s){return e.push((s||"c")+t+","+i+" "+n+","+r+" "+a+","+o),this},this.CurveTo=function(t,e,i,n,r,a){return this.curveTo(t,e,i,n,r,a,"C")},this.sCurveTo=function(t,i,n,r,a){return e.push((a||"s")+t+","+i+" "+n+","+r),this},this.SCurveTo=function(t,e,i,n){return this.sCurveTo(t,e,i,n,"S")},this.qCurveTo=function(t,i,n,r,a){return e.push((a||"q")+t+","+i+" "+n+","+r),this},this.QCurveTo=function(t,e,i,n){return this.qCurveTo(t,e,i,n,"Q")},this.tCurveTo=function(t,i,n,r,a){return e.push((a||"t")+t+","+i+" "+n+","+r),this},this.TCurveTo=function(t,e,i,n){return this.tCurveTo(t,e,i,n,"T")},this.arc=function(t,i,n,r,a,o,s,h){return r=r?1:0,a=a?1:0,e.push((h||"a")+t+","+i+" "+n+" "+r+","+a+" "+o+","+s),this},this.Arc=function(t,e,i,n,r,a,o){return this.arc(t,e,i,n,r,a,o,"A")},this.closePath=function(t){return e.push(t||"z"),this},this.ClosePath=function(){return this.closePath("Z")},this.join=function(){e.length>0&&(this.attr({d:e.join(" ")}),e=[])},this.length=function(){var i=t.createId(),n=e.join(" "),r=document.createElement("svg"),a=document.createElementNS("http://www.w3.org/2000/svg","path");a.setAttributeNS(null,"id",i),a.setAttributeNS(null,"d",n),r.appendChild(a),document.body.appendChild(r);var o=document.getElementById(i).getTotalLength();return document.body.removeChild(r),o}}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"util.svg.element.path.rect",extend:"util.svg.element.path",component:function(){return function(){this.round=function(t,e,i,n,r,a){i=i||0,n=n||0,r=r||0,a=a||0,this.MoveTo(0,i).Arc(i,i,0,0,1,i,0).HLineTo(t-n).Arc(n,n,0,0,1,t,n).VLineTo(e-r).Arc(r,r,0,0,1,t-r,e).HLineTo(a).Arc(a,a,0,0,1,0,e-a).ClosePath().join()}}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"util.svg.element.path.symbol",extend:"util.svg.element.path",component:function(){return function(){var t="";this.template=function(t,e){var i=t,n=half_r=t/2,r=e/2,a="a"+half_r+","+half_r+" 0 1,1 "+i+",0",o="a"+half_r+","+half_r+" 0 1,1 "+-i+",0",s={triangle:["m0,"+-r,"l"+n+","+e,"l"+-t+",0","l"+n+","+-e].join(" "),rect:["m"+-n+","+-r,"l"+t+",0","l0,"+e,"l"+-t+",0","l0,"+-e].join(" "),cross:["m"+-n+","+-r,"l"+t+","+e,"m0,"+-e,"l"+-t+","+e].join(" "),circle:["m"+-i+",0",a,o].join(" ")};return s.rectangle=s.rect,s},this.join=function(){t.length>0&&(this.attr({d:t}),t="")},this.add=function(e,i,n){t+=" M"+e+","+i+n},this.triangle=function(t,e,i,n){return this.MoveTo(t,e).moveTo(0,-n/2).lineTo(i/2,n).lineTo(-i,0).lineTo(i/2,-n)},this.rect=this.rectangle=function(t,e,i,n){return this.MoveTo(t,e).moveTo(-i/2,-n/2).lineTo(i,0).lineTo(0,n).lineTo(-i,0).lineTo(0,-n)},this.cross=function(t,e,i,n){return this.MoveTo(t,e).moveTo(-i/2,-n/2).lineTo(i,n).moveTo(0,-n).lineTo(-i,n)},this.circle=function(t,e,i){return this.MoveTo(t,e).moveTo(-i,0).arc(i/2,i/2,0,1,1,i,0).arc(i/2,i/2,0,1,1,-i,0)}}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"util.svg.element.poly",extend:"util.svg.element.transform",component:function(){return function(){var t=[];this.point=function(e,i){return t.push(e+","+i),this},this.join=function(){if(t.length>0){var e=t[0];t.push(e),this.attr({points:t.join(" ")}),t=[]}}}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=l(i(0)),r=l(i(1)),a=l(i(2)),o=l(i(3)),s=l(i(5)),h=l(i(4)),u=l(i(6));function l(t){return t&&t.__esModule?t:{default:t}}n.default.use(r.default,a.default,o.default,s.default,h.default,u.default),e.default={name:"util.svg.base",extend:null,component:function(){var t=n.default.include("util.base"),e=n.default.include("util.svg.element"),i=n.default.include("util.svg.element.transform"),r=n.default.include("util.svg.element.path"),a=n.default.include("util.svg.element.path.symbol"),o=n.default.include("util.svg.element.path.rect"),s=n.default.include("util.svg.element.poly"),h=null,u=function(){this.create=function(t,e,i,n){return t.create(e,i),t},this.createChild=function(t,e,i,n){return this.create(t,e,i,n)},this.custom=function(t,i,n){return this.create(new e,t,i,n)},this.defs=function(t){return this.create(new e,"defs",null,t)},this.symbol=function(t,i){return this.create(new e,"symbol",t,i)},this.g=this.group=function(t,e){return this.create(new i,"g",t,e)},this.marker=function(t,i){return this.create(new e,"marker",t,i)},this.a=function(t,e){return this.create(new i,"a",t,e)},this.switch=function(t,i){return this.create(new e,"switch",t,i)},this.use=function(t){return this.create(new e,"use",t)},this.rect=function(t,e){return this.create(new i,"rect",t,e)},this.line=function(t,e){return this.create(new i,"line",t,e)},this.circle=function(t,e){return this.create(new i,"circle",t,e)},this.text=function(e,n){return 2==arguments.length?t.typeCheck("function",n)?this.create(new i,"text",e,n):this.create(new i,"text",e).text(n):this.create(new i,"text",e)},this.textPath=function(i,n){return t.typeCheck("string",n)?this.create(new e,"textPath",i).text(n):this.create(new e,"textPath",i)},this.tref=function(i,n){return t.typeCheck("string",n)?this.create(new e,"tref",i).text(n):this.create(new e,"tref",i)},this.tspan=function(i,n){return t.typeCheck("string",n)?this.create(new e,"tspan",i).text(n):this.create(new e,"tspan",i)},this.ellipse=function(t,e){return this.create(new i,"ellipse",t,e)},this.image=function(t,e){return this.create(new i,"image",t,e)},this.path=function(t,e){return this.create(new r,"path",t,e)},this.pathSymbol=function(t,e){return this.create(new a,"path",t,e)},this.pathRect=function(t,e){return this.create(new o,"path",t,e)},this.polyline=function(t,e){return this.create(new s,"polyline",t,e)},this.polygon=function(t,e){return this.create(new s,"polygon",t,e)},this.pattern=function(t,i){return this.create(new e,"pattern",t,i)},this.mask=function(t,i){return this.create(new e,"mask",t,i)},this.clipPath=function(t,i){return this.create(new e,"clipPath",t,i)},this.linearGradient=function(t,i){return this.create(new e,"linearGradient",t,i)},this.radialGradient=function(t,i){return this.create(new e,"radialGradient",t,i)},this.filter=function(t,i){return this.create(new e,"filter",t,i)},this.foreignObject=function(t,e){return this.create(new i,"foreignObject",t,e)},this.stop=function(t){return this.createChild(new e,"stop",t)},this.animate=function(t){return this.createChild(new e,"animate",t)},this.animateColor=function(t){return this.createChild(new e,"animateColor",t)},this.animateMotion=function(t){return this.createChild(new e,"animateMotion",t)},this.animateTransform=function(t){return this.createChild(new e,"animateTransform",t)},this.mpath=function(t){return this.createChild(new e,"mpath",t)},this.set=function(t){return this.createChild(new e,"set",t)},this.feBlend=function(t){return this.createChild(new e,"feBlend",t)},this.feColorMatrix=function(t){return this.createChild(new e,"feColorMatrix",t)},this.feComponentTransfer=function(t){return this.createChild(new e,"feComponentTransfer",t)},this.feComposite=function(t){return this.createChild(new e,"feComposite",t)},this.feConvolveMatrix=function(t){return this.createChild(new e,"feConvolveMatrix",t)},this.feDiffuseLighting=function(t){return this.createChild(new e,"feDiffuseLighting",t)},this.feDisplacementMap=function(t){return this.createChild(new e,"feDisplacementMap",t)},this.feFlood=function(t){return this.createChild(new e,"feFlood",t)},this.feGaussianBlur=function(t){return this.createChild(new e,"feGaussianBlur",t)},this.feImage=function(t){return this.createChild(new e,"feImage",t)},this.feMerge=function(t,i){return this.createChild(new e,"feMerge",t,i)},this.feMergeNode=function(t){return this.createChild(new e,"feMergeNode",t)},this.feMorphology=function(t){return this.createChild(new e,"feMorphology",t)},this.feOffset=function(t){return this.createChild(new e,"feOffset",t)},this.feSpecularLighting=function(t){return this.createChild(new e,"feSpecularLighting",t)},this.feTile=function(t){return this.createChild(new e,"feTile",t)},this.feTurbulence=function(t){return this.createChild(new e,"feTurbulence",t)}};return u.create=function(t,e,i){return null==h&&(h=new u),h.custom(t,e,i)},u}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(i(0)),r=a(i(7));function a(t){return t&&t.__esModule?t:{default:t}}n.default.use(r.default),e.default={name:"util.svg.base3d",extend:"util.svg.base",component:function(){n.default.include("util.base");var t=n.default.include("util.math"),e=n.default.include("util.color");return function(){this.rect3d=function(i,n,r,a,o){var s=this,h=t.radian(a),u=n,l=r,c=Math.cos(h)*o,d=Math.sin(h)*o,f=n+c,p=r+d;return s.group({},function(){s.path({fill:e.lighten(i,.15),stroke:e.lighten(i,.15)}).MoveTo(c,0).LineTo(f,0).LineTo(u,d).LineTo(0,d),s.path({fill:i,stroke:i}).MoveTo(0,d).LineTo(0,p).LineTo(u,p).LineTo(u,d),s.path({fill:e.darken(i,.2),stroke:e.darken(i,.2)}).MoveTo(u,p).LineTo(f,l).LineTo(f,0).LineTo(u,d)})},this.cylinder3d=function(i,n,r,a,o,s){var h=this,u=t.radian(a),l=n/2,c=l*(s=void 0==s?1:0==s?.01:s),d=Math.cos(u)*o/2,f=Math.sin(u)*o/2,p="cylinder3d";return h.group({},function(){h.ellipse({fill:e.darken(i,.05),"fill-opacity":.85,stroke:e.darken(i,.05),rx:l,ry:f,cx:l,cy:r}).translate(d,f),h.path({fill:"url(#"+p+")","fill-opacity":.85,stroke:i}).MoveTo(l-c,f).LineTo(0,r).Arc(l,f,0,0,0,n,r).LineTo(l+c,f).Arc(l+c,f,0,0,1,l-c,f).translate(d,f),h.ellipse({fill:e.lighten(i,.2),"fill-opacity":.95,stroke:e.lighten(i,.2),rx:l*s,ry:f*s,cx:l,cy:f}).translate(d,f),h.linearGradient({id:p,x1:"100%",x2:"0%",y1:"0%",y2:"0%"},function(){h.stop({offset:"0%","stop-color":e.lighten(i,.15)}),h.stop({offset:"33.333333333333336%","stop-color":e.darken(i,.2)}),h.stop({offset:"66.66666666666667%","stop-color":e.darken(i,.2)}),h.stop({offset:"100%","stop-color":e.lighten(i,.15)})})})}}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(i(0)),r=a(i(8));function a(t){return t&&t.__esModule?t:{default:t}}n.default.use(r.default),e.default={name:"util.svg",extend:"util.svg.base3d",component:function(){var t=n.default.include("util.base"),e=n.default.include("util.svg.element"),i=n.default.include("util.svg.element.transform"),r=n.default.include("util.svg.element.path"),a=n.default.include("util.svg.element.poly"),o=function(n,o){var s=this,h=null,u=null,l=null,c={},d=0,f=!1;function p(t){var e=t.children;(function(t){for(var e=0,i=t.length;e<i;e++)if(t[e].order>0)return!0;return!1})(e)&&e.sort(function(t,e){return t.order-e.order});for(var i=0,n=e.length;i<n;i++){var o=e[i];o&&(o.children.length>0&&p(o),(o instanceof r||o instanceof a)&&o.join(),o.parent==t&&t.element.appendChild(o.element))}}function g(t){for(var e=t.children,i=0,n=e.length;i<n;i++){var r=e[i];r&&(r.off(),r.children.length>0&&g(r))}}this.create=function(e,i,n,r){return e.create(i,n),0==d?u.append(e):c[d].append(e),t.typeCheck("function",r)&&(c[++d]=e,r.call(e),d--),e},this.createChild=function(t,e,i,n){if(t.parent==u)throw new Error("JUI_CRITICAL_ERR: Parents are required elements of the '"+e+"'");return this.create(t,e,i,n)},this.size=function(){if(2!=arguments.length)return h.size();var t=arguments[0],e=arguments[1];h.attr({width:t,height:e})},this.clear=function(t){u.each(function(){this.element.parentNode&&u.element.removeChild(this.element)}),g(u),!0===t&&(l.each(function(){this.element.parentNode&&l.element.removeChild(this.element)}),g(l))},this.reset=function(t){this.clear(t),u.children=[],!0===t&&(l.children=[])},this.render=function(t){this.clear(),p(!1===f||!0===t?h:u),f=!0},this.download=function(e){t.typeCheck("string",e)&&(e=e.split(".")[0]);var i=document.createElement("a");i.download=e?e+".svg":"svg.svg",i.href=this.toDataURI(),document.body.appendChild(i),i.click(),i.parentNode.removeChild(i)},this.downloadImage=function(e,i){i=i||"image/png";var n=new Image,r=this.size(),a=this.toDataURI().replace('width="100%"','width="'+r.width+'"').replace('height="100%"','height="'+r.height+'"');n.onload=function(){var r=document.createElement("canvas");r.width=n.width,r.height=n.height,r.getContext("2d").drawImage(n,0,0);var a=r.toDataURL(i);t.typeCheck("string",e)&&(e=e.split(".")[0]);var o=document.createElement("a");o.download=e?e+".png":"svg.png",o.href=a,document.body.appendChild(o),o.click(),o.parentNode.removeChild(o)},n.src=a},this.exportCanvas=function(t){var e=new Image,i=this.size(),n=this.toDataURI().replace('width="100%"','width="'+i.width+'"').replace('height="100%"','height="'+i.height+'"');e.onload=function(){t.width=e.width,t.height=e.height,t.getContext("2d").drawImage(e,0,0)},e.src=n},this.toXML=function(){var t=n.innerHTML;return['<?xml version="1.0" encoding="utf-8"?>',(t=t.replace('xmlns="http://www.w3.org/2000/svg"',"")).replace("<svg ",'<svg xmlns="http://www.w3.org/2000/svg" ')].join("\n")},this.toDataURI=function(){var e=this.toXML();return(t.browser.mozilla||t.browser.msie)&&(e=encodeURIComponent(e)),t.browser.msie?"data:image/svg+xml,"+e:"data:image/svg+xml;utf8,"+e},this.autoRender=function(t,e){d>0||(e?u.append(t):l.append(t))},this.getTextSize=function(t,e){if(""==t)return{width:0,height:0};e=e||{};var i=document.body||h.element,n=document.createElementNS("http://www.w3.org/2000/svg","svg");n.setAttributeNS(null,"width",500),n.setAttributeNS(null,"height",100),n.setAttributeNS(null,"x",-2e4),n.setAttributeNS(null,"y",-2e4);var r=document.createElementNS("http://www.w3.org/2000/svg","text");r.setAttributeNS(null,"x",-200),r.setAttributeNS(null,"y",-200),r.appendChild(document.createTextNode(t)),e.fontSize&&r.setAttributeNS(null,"font-size",e.fontSize),e.fontFamily&&r.setAttributeNS(null,"font-family",e.fontFamily),e.bold&&r.setAttributeNS(null,"font-weight",e.bold),e.style&&r.setAttributeNS(null,"font-style",e.style),n.appendChild(r),i.appendChild(n);var a=r.getBoundingClientRect();return i.removeChild(n),{width:a.width,height:a.height}},s.root=h=new e,u=new i,l=new i,h.create("svg",o),u.create("g"),l.create("g"),u.translate(.5,.5),l.translate(.5,.5),n.appendChild(h.element),h.append(u),h.append(l)};return o.createObject=function(t){var i=new e;if(i.create(t.type,t.attr),t.children instanceof Array)for(var n=0,r=t.children.length;n<r;n++)i.append(o.createObject(t.children[n]));return i},o}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t&&t.__esModule?t:{default:t}}(i(0));e.default={name:"chart.axis",extend:null,component:function(){var t=n.default.include("util.base"),e=function(e,i,r){var a=this,o=null,s={},h={},u="",l=null,c="",d=null;function f(e,i){return t.typeCheck("string",e)&&e.indexOf("%")>-1?i*(parseFloat(e.replace("%",""))/100):e}function p(i,r){if(("x"==r||"y"==r||"z"==r)&&!t.typeCheck("object",i[r]))return null;i[r]=i[r]||{},"x"==r?i[r].orient="top"==i[r].orient?"top":"bottom":"y"==r?i[r].orient="right"==i[r].orient?"right":"left":"z"==r?i[r].orient="center":"c"==r&&(i[r].type=i[r].type||"panel",i[r].orient="custom"),i[r].type=i[r].type||"block";var o=n.default.include("chart.grid."+i[r].type);n.default.defineOptions(o,i[r]);var s=new o(e,i,i[r]);s.chart=e,s.axis=i,s.grid=i[r],s.svg=e.svg;var h=s.render();return a.isFull3D()||("left"==i[r].orient?h.root.translate(e.area("x")+a.area("x")-i[r].dist,e.area("y")):"right"==i[r].orient?h.root.translate(e.area("x")+a.area("x2")+i[r].dist,e.area("y")):"bottom"==i[r].orient?h.root.translate(e.area("x"),e.area("y")+a.area("y2")+i[r].dist):"top"==i[r].orient?h.root.translate(e.area("x"),e.area("y")+a.area("y")-i[r].dist):h.root&&h.root.translate(e.area("x")+a.area("x"),e.area("y")+a.area("y"))),h.scale.type=i[r].type,h.scale.root=h.root,h.scale}function g(t){var e=a.origin,i=a.buffer,n=Math.ceil(e.length/i);a.page=t<1?1:t>n?n:t,a.start=(a.page-1)*i,a.end=a.start+i,a.end>e.length&&(a.start=e.length-i,a.end=e.length),a.end<=e.length&&(a.start=a.start<0?0:a.start,a.data=e.slice(a.start,a.end),e.length>0&&a.page++)}function v(t,e){var i=a.origin;a.end=e>i.length?i.length:e,a.start=t<0?0:t,a.data=i.slice(a.start,a.end)}function m(t){var e=a.area("y"),i=a.area("x");return t.chartY>e&&t.chartY<e+a.area("height")&&t.chartX>i&&t.chartX<i+a.area("width")&&(t.axisX=t.chartX-i,t.axisY=t.chartY-e,!0)}this.getValue=function(e,i,n){var a=e[r.keymap[i]];return t.typeCheck("undefined",a)?(a=e[i],t.typeCheck("undefined",a)?n:a):a},this.reload=function(i){var r=e.area();t.extend(this,{x:i.x,y:i.y,z:i.z,c:i.c,map:i.map}),h=t.typeCheck("integer",i.padding)?{left:i.padding,right:i.padding,bottom:i.padding,top:i.padding}:i.padding,s=function(t,i){return t.x=f(t.x,e.area("width")),t.y=f(t.y,e.area("height")),t.width=f(t.width,e.area("width")),t.height=f(t.height,e.area("height")),t.x2=t.x+t.width,t.y2=t.y+t.height,t.x+=i.left||0,t.y+=i.top||0,t.x2-=i.right||0,t.y2-=i.bottom||0,t.width=t.x2-t.x,t.height=t.y2-t.y,t}(t.extend(i.area,{x:0,y:0,width:r.width,height:r.height},!0),h),l&&(l.remove(),l=null),u="axis-clip-id",l=e.svg.clipPath({id:u},function(){e.svg.rect({x:s.x,y:s.y,width:s.width,height:s.height})}),e.appendDefs(l),d&&(d.remove(),d=null),c="axis-clip-rect-id",d=e.svg.clipPath({id:c},function(){e.svg.rect({x:0,y:0,width:s.width,height:s.height})}),e.appendDefs(d),this.root=function(){var t=e.theme("axisBorderWidth"),i=h.left+h.right,n=h.top+h.bottom,r=e.svg.rect({rx:e.theme("axisBorderRadius"),ry:e.theme("axisBorderRadius"),fill:e.theme("axisBackgroundColor"),"fill-opacity":e.theme("axisBackgroundOpacity"),stroke:e.theme("axisBorderColor"),"stroke-width":t,width:s.width+i-t,height:s.height+n-t,x:s.x-h.left,y:s.y-h.top});return r.translate(e.area("x"),e.area("y")),r}(),this.x=p(this,"x"),this.y=p(this,"y"),this.z=p(this,"z"),this.c=p(this,"c"),this.map=function(i,r){if("map"==r&&!t.typeCheck("object",i[r]))return null;i[r]=i[r]||{};var s=n.default.include("chart.map");n.default.defineOptions(s,i[r]),null==o&&(o=new s(e,i,i[r])),o.chart=e,o.axis=i,o.map=i[r],o.svg=e.svg;var h=o.render();return h.root.translate(e.area("x")+a.area("x"),e.area("y")+a.area("y")),h.scale.type=i[r].type,h.scale.root=h.root,h.scale}(this,"map"),this.buffer=i.buffer,this.shift=i.shift,this.index=i.index,this.page=i.page,this.start=i.start,this.end=i.end,this.degree=i.degree,this.depth=i.depth,this.perspective=i.perspective},this.area=function(e){return t.typeCheck("undefined",s[e])?s:s[e]},this.padding=function(e){return t.typeCheck("undefined",h[e])?h:h[e]},this.get=function(t){return{area:s,padding:h,clipId:u,clipRectId:c}[t]||r[t]},this.set=function(n,a,o){t.typeCheck("object",a)?!0===o?(i[n]=t.deepClone(a),r[n]=t.deepClone(a)):(t.extend(i[n],a),t.extend(r[n],a)):(i[n]=a,r[n]=a),e.isRender()&&e.render()},this.updateGrid=this.set,this.update=function(e){this.origin=t.typeCheck("array",e)?e:[e],this.page=1,this.start=0,this.end=0,this.screen(1)},this.screen=function(t){g(t),this.end<=this.origin.length&&e.isRender()&&e.render()},this.next=function(){var t=this.origin,i=this.buffer,n=this.shift;this.start+=n;var r=this.start+i>t.length;this.end=r?t.length:this.start+i,this.start=r?t.length-i:this.start,this.start=this.start<0?0:this.start,this.data=t.slice(this.start,this.end),e.isRender()&&e.render()},this.prev=function(){var t=this.origin,i=this.buffer,n=this.shift;this.start-=n;var r=this.start<0;this.end=r?i:this.start+i,this.start=r?0:this.start,this.data=t.slice(this.start,this.end),e.isRender()&&e.render()},this.zoom=function(t,i){t!=i&&(v(t,i),e.isRender()&&e.render())},this.isFull3D=function(){return!t.typeCheck(["undefined","null"],this.z)},t.extend(a,{data:r.data,origin:r.origin,buffer:r.buffer,shift:r.shift,index:r.index,page:r.page,start:r.start,end:r.end,degree:r.degree,depth:r.depth,perspective:r.perspective}),a.origin=a.data,a.start>0||a.end>0?v(a.start,a.end):g(a.page),function(){var t=!1,i=r.index;e.on("chart.mousemove",function(n){m(n)?t||(e.emit("axis.mouseover",[n,i]),t=!0):t&&(e.emit("axis.mouseout",[n,i]),t=!1),m(n)&&e.emit("axis.mousemove",[n,i])}),e.on("bg.mousemove",function(n){!m(n)&&t&&(e.emit("axis.mouseout",[n,i]),t=!1)}),e.on("chart.mousedown",function(t){m(t)&&e.emit("axis.mousedown",[t,i])}),e.on("chart.mouseup",function(t){m(t)&&e.emit("axis.mouseup",[t,i])}),e.on("chart.click",function(t){m(t)&&e.emit("axis.click",[t,i])}),e.on("chart.dblclick",function(t){m(t)&&e.emit("axis.dblclick",[t,i])}),e.on("chart.rclick",function(t){m(t)&&e.emit("axis.rclick",[t,i])}),e.on("chart.mousewheel",function(t){m(t)&&e.emit("axis.mousewheel",[t,i])})}(),a.reload(r)};return e.setup=function(){return{extend:null,x:null,y:null,z:null,c:null,map:null,data:[],origin:[],keymap:{},area:{},padding:{top:0,bottom:0,left:0,right:0},buffer:1e4,shift:1,page:1,start:0,end:0,degree:{x:0,y:0,z:0},depth:0,perspective:.9}},e}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(0)),r=o(i(9)),a=o(i(10));function o(t){return t&&t.__esModule?t:{default:t}}n.default.use(r.default,a.default),e.default={name:"chart.builder",extend:"core",component:function(){var t=n.default.include("util.base"),e=n.default.include("util.dom"),i=n.default.include("util.svg"),r=n.default.include("util.color"),a=n.default.include("chart.axis");t.resize(function(){for(var e=n.default.get("chart.builder"),i=0;i<e.length;i++)for(var r=e[i],a=0;a<r.length;a++)t.typeCheck("function",r[a].resize)&&r[a].resize()},1e3);var o=function(){var o,s,h,u=[],l=[],c=[],d=null,f={},p=!1,g=null,v={render:[],renderAll:[]},m={main:null,buffer:null,sub:null},y={};function x(t,i){var n=!1;function r(i){var n=e.offset(t.root),r=i.pageX-n.left,a=i.pageY-n.top;if(i.bgX=r,i.bgY=a,i.chartX=r-t.padding("left"),i.chartY=a-t.padding("top"),!(i.chartX<0||i.chartX>t.area("width")||i.chartY<0||i.chartY>t.area("height")))return!0}i.on("click",function(e){r(e)?t.emit("chart.click",[e]):t.emit("bg.click",[e])}),i.on("dblclick",function(e){r(e)?t.emit("chart.dblclick",[e]):t.emit("bg.dblclick",[e])}),i.on("contextmenu",function(e){r(e)?t.emit("chart.rclick",[e]):t.emit("bg.rclick",[e]),e.preventDefault()}),i.on("mousemove",function(e){r(e)?n?t.emit("chart.mousemove",[e]):(t.emit("chart.mouseover",[e]),n=!0):(n&&(t.emit("chart.mouseout",[e]),n=!1),t.emit("bg.mousemove",[e]))}),i.on("mousedown",function(e){r(e)?t.emit("chart.mousedown",[e]):t.emit("bg.mousedown",[e])}),i.on("mouseup",function(e){r(e)?t.emit("chart.mouseup",[e]):t.emit("bg.mouseup",[e])}),i.on("mouseover",function(e){r(e)||t.emit("bg.mouseover",[e])}),i.on("mouseout",function(e){r(e)||t.emit("bg.mouseout",[e])}),i.on("mousewheel",function(e){r(e)?t.emit("chart.mousewheel",[e]):t.emit("bg.mousewheel",[e])})}function w(e,n){if(!t.typeCheck("undefined",n)&&f[n])return"url(#"+f[n]+")";var r="gradient";e.attr.id=r;var a=i.createObject(e);return d.append(a),t.typeCheck("undefined",n)||(f[n]=r),"url(#"+r+")"}function b(e){if(t.typeCheck("string",e)){if(e=e.replace("url(#","").replace(")",""),f[e])return"url(#"+e+")";if(-1==e.indexOf("pattern-"))return!1;var r=e.split("-"),a=r.pop(),o=n.default.include("chart."+r.join("."));return!!o&&("function"==typeof(s=o[a])&&(s=s.call(s)),s.attr&&!s.attr.id&&(s.attr.id=e),s=i.createObject(s),d.append(s),f[e]=e,"url(#"+e+")")}if(e.attr.id=e.attr.id||"pattern",f[e.attr.id])return"url(#"+e.attr.id+")";var s=i.createObject(e);return d.append(s),f[e.attr.id]=e.attr.id,"url(#"+e.attr.id+")"}function M(e){if(t.typeCheck("undefined",e))return"none";if(t.typeCheck("object",e))return"pattern"==e.type?b(e):w(e);if("string"==typeof e){var i=b(e);if(i)return i}var n=r.parse(e);return n==e?e:w(n,e)}function k(e){var i={};t.typeCheck("string",e)?(t.extend(i,n.default.include("chart.theme."+e)),t.extend(i,g.style)):t.typeCheck("object",e)&&(t.extend(h,g.style),t.extend(h,e),t.extend(i,h)),h=i}function C(t,e){var i=e.match(/{([^{}]+)}/g);if(null!=i)for(var n=0;n<i.length;n++){var r=i[n].substring(1,i[n].length-1);e=e.replace(i[n],t.icon(r))}return e}function _(e){var i=e.svg.size();return{width:t.typeCheck("integer",g.width)?g.width:i.width,height:t.typeCheck("integer",g.height)?g.height:i.height}}function T(t,e){var i=_(t),n=m[e];n.restore(),n.clearRect(0,0,i.width,i.height),n.save(),"main"==e&&n.translate(s.x,s.y)}this.init=function(){!function(e){var i=(g=t.deepClone(e.options,{data:!0,bind:!0})).padding;o=t.typeCheck("integer",i)?{left:i,right:i,bottom:i,top:i}:i,t.typeCheck("array",g.axis)||(g.axis=[g.axis]),t.typeCheck("array",g.brush)||(g.brush=[g.brush]),t.typeCheck("array",g.widget)||(g.widget=[g.widget]),0==g.axis.length&&g.axis.push({data:[]});for(var n=0;n<g.axis.length;n++){var r=g.axis[n];t.extend(r,g.axis[r.extend],!0)}}(this),k(g.theme),function(t){t.style.position="relative",t.style.userSelect="none",t.style.webkitUserSelect="none",t.style.MozUserSelect="none",t.setAttribute("unselectable","on")}(this.root),this.svg=new i(this.root,{width:g.width,height:g.height,"buffered-rendering":"dynamic"}),g.canvas?(!function(t){var e=_(t);for(var i in m){var n=document.createElement("CANVAS");n.setAttribute("width",e.width),n.setAttribute("height",e.height),n.style.position="absolute",n.style.left="0px",n.style.top="0px",n.getContext&&(m[i]=n.getContext("2d"),"buffer"!=i&&t.root.appendChild(n)),"sub"==i&&(n.on=function(t,e){return n.addEventListener(t,function(t){"function"==typeof e&&e.call(this,t)},!1),this})}}(this),x(this,e.find(this.root,"CANVAS")[1])):x(this,this.svg.root),function(){var e=g.icon;if(t.typeCheck(["string","array"],e.path)){for(var i=t.typeCheck("string",e.path)?[e.path]:e.path,n=[],r=0;r<i.length;r++){var a=i[r],o="url("+a+") ";-1!=a.indexOf(".eot")?o+="format('embedded-opentype')":-1!=a.indexOf(".woff")?o+="format('woff')":-1!=a.indexOf(".ttf")?o+="format('truetype')":-1!=a.indexOf(".svg")&&(o+="format('svg')"),n.push(o)}!function(t){(function(){var t=document.createElement("style");return t.appendChild(document.createTextNode("")),document.head.appendChild(t),t.sheet})().insertRule(t,0)}("@font-face {font-family: "+e.type+"; font-weight: normal; font-style: normal; src: "+n.join(",")+"}")}}(),this.render()},this.get=function(t,e){var i={axis:u,brush:l,widget:c,padding:o,area:s};return i[t][e]?i[t][e]:i[t]||i},this.axis=function(t){return 0==arguments.length?u:u[t]},this.area=function(e){return t.typeCheck("undefined",s[e])?s:s[e]},this.padding=function(e){return t.typeCheck("undefined",o[e])?o:o[e]},this.color=function(e,i){var n=null;if(1==arguments.length?t.typeCheck("string",e)?n=e:t.typeCheck("integer",e)&&(n=r(e)):t.typeCheck(["array","object"],i)?(n=i[e],t.typeCheck("integer",n)&&(n=r(n))):n=r(),f[n])return"url(#"+f[n]+")";function r(t){var i=h.colors,n=t||e;return n>i.length-1?i[i.length-1]:i[n]}return M(n)},this.icon=function(t){return n.default.include("chart.icon."+g.icon.type)[t]},this.text=function(e,i){return t.typeCheck("string",i)?i=C(this,i):t.typeCheck("undefined",i)&&(i=""),this.svg.text(e,i)},this.texts=function(e,i,n){for(var r=this.svg.group(),a=0;a<i.length;a++)if(t.typeCheck("string",i[a])){var o=(e["font-size"]||10)*(n||1);r.append(this.svg.text(t.extend({y:a*o},e,!0),C(this,i[a])))}return r},this.theme=function(t,e,i){if(0==arguments.length)return h;if(1==arguments.length)return t.indexOf("Color")>-1&&null!=h[t]?M(h[t]):h[t];if(3==arguments.length){var n=t?e:i;return n.indexOf("Color")>-1&&null!=h[n]?M(h[n]):h[n]}},this.format=function(){if(0!=arguments.length){var e=g.format;return t.typeCheck("function",e)?e.apply(this,arguments):arguments[0]}},this.on=function(e,i,n){t.typeCheck("string",e)&&t.typeCheck("function",i)&&(this.event.push({type:e.toLowerCase(),callback:i}),"render"!=n&&"renderAll"!=n||v[n].push(i))},this.render=function(e){this.svg.reset(e),function(t,e){for(var i=0;i<v.render.length;i++)t.off(v.render[i]);if(v.render=[],!0===e){for(i=0;i<v.renderAll.length;i++)t.off(v.renderAll[i]);v.renderAll=[]}}(this,e),function(t){var e=t.svg.size(),i={width:e.width-(o.left+o.right),height:e.height-(o.top+o.bottom),x:o.left,y:o.top};i.width<0&&(i.width=0),i.height<0&&(i.height=0),i.x2=i.x+i.width,i.y2=i.y+i.height,s=i}(this),this.options.canvas&&(T(this,"main"),T(this,"buffer"),e&&T(this,"sub")),function(e){l=t.deepClone(g.brush),c=t.deepClone(g.widget),d=e.svg.defs(),f={}}(this),function(e){for(var i=t.deepClone(g.axis,{data:!0,origin:!0}),r=0;r<i.length;r++)n.default.defineOptions(a,i[r]),i[r].index=r,u[r]?u[r].reload(i[r]):u[r]=new a(e,g.axis[r],i[r])}(this),function(e){var i=l;if(null!=i)for(var r=0;r<i.length;r++){var a=n.default.include("chart.brush."+i[r].type);n.default.defineOptions(a,i[r]);var o=u[i[r].axis];if(i[r].target)t.typeCheck("string",i[r].target)&&(i[r].target=[i[r].target]);else{var s=[];if(o)for(var h in o.data[0])s.push(h);i[r].target=s}i[r].index=r;var c=new a(e,o,i[r]);c.chart=e,c.axis=o,c.brush=i[r],c.svg=e.svg,c.canvas=m.buffer,c.render()}}(this),function(t,e){var i=c;if(null!=i)for(var r=0;r<i.length;r++){var a=n.default.include("chart.widget."+i[r].type);n.default.defineOptions(a,i[r]),i[r].index=r;var o=new a(t,u[0],i[r]);if(o.chart=t,o.axis=u[0],o.widget=i[r],o.svg=t.svg,o.canvas=m.sub,p&&!o.isRender()&&!0!==e)return;var s=o.render();o.isRender()||t.svg.autoRender(s,!1)}}(this,e),this.options.canvas&&m.main.drawImage(m.buffer.canvas,0,0),this.svg.root.css({"font-family":this.theme("fontFamily")+","+g.icon.type,background:this.theme("backgroundColor")}),this.svg.render(e),this.emit("render",[p]),p=!0},this.appendDefs=function(t){d.append(t)},this.addBrush=function(t){g.brush.push(t),this.isRender()&&this.render()},this.removeBrush=function(t){g.brush.splice(t,1),this.isRender()&&this.render()},this.updateBrush=function(e,i,n){!0===n?g.brush[e]=i:t.extend(g.brush[e],i),this.isRender()&&this.render()},this.addWidget=function(t){g.widget.push(t),this.isRender()&&this.render()},this.removeWidget=function(t){g.widget.splice(t,1),this.isRender()&&this.render()},this.updateWidget=function(e,i,n){!0===n?g.widget[e]=i:t.extend(g.widget[e],i),this.isRender()&&this.render()},this.setTheme=function(t){k(t),this.isRender()&&this.render(!0)},this.setSize=function(t,i){if(2==arguments.length&&(g.width=t,g.height=i),this.svg.size(g.width,g.height),g.canvas)for(var n=e.find(this.root,"CANVAS"),r=_(this),a=0;a<n.length;a++)n[a].setAttribute("width",r.width),n[a].setAttribute("height",r.height);this.isRender()&&this.render(!0)},this.isFullSize=function(){return"100%"==g.width||g.height,!0},this.resize=function(){this.isFullSize()&&this.setSize(),this.isRender()||this.render(!0)},this.isRender=function(){return!p||g.render},this.setCache=function(t,e){y[t]=e},this.getCache=function(t,e){return void 0===y[t]?e:y[t]}};return o.setup=function(){return{width:"100%",height:"100%",padding:{top:50,bottom:50,left:50,right:50},theme:"classic",style:{},brush:[],widget:[],axis:[],bind:null,format:null,render:!0,icon:{type:"classic",path:null},canvas:!1}},o}}},function(t,e,i){"use strict";var n=function(t){return t&&t.__esModule?t:{default:t}}(i(13));window.jui=window.JUI=n.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=ut(i(0)),r=ut(i(14)),a=ut(i(15)),o=ut(i(16)),s=ut(i(17)),h=ut(i(18)),u=ut(i(19)),l=ut(i(20)),c=ut(i(21)),d=ut(i(22)),f=ut(i(1)),p=ut(i(2)),g=ut(i(3)),v=ut(i(4)),m=ut(i(5)),y=ut(i(6)),x=ut(i(7)),w=ut(i(8)),b=ut(i(9)),M=ut(i(23)),k=ut(i(24)),C=ut(i(25)),_=ut(i(26)),T=ut(i(27)),A=ut(i(28)),j=ut(i(29)),F=ut(i(30)),P=ut(i(10)),S=ut(i(31)),L=ut(i(11)),z=ut(i(32)),O=ut(i(33)),B=ut(i(34)),R=ut(i(35)),D=ut(i(36)),I=ut(i(37)),E=ut(i(38)),Y=ut(i(39)),W=ut(i(40)),X=ut(i(41)),N=ut(i(42)),G=ut(i(43)),U=ut(i(44)),V=ut(i(45)),H=ut(i(46)),$=ut(i(47)),J=ut(i(48)),q=ut(i(49)),Z=ut(i(50)),K=ut(i(51)),Q=ut(i(52)),tt=ut(i(53)),et=ut(i(54)),it=ut(i(55)),nt=ut(i(56)),rt=ut(i(57)),at=ut(i(58)),ot=ut(i(59)),st=ut(i(60)),ht=ut(i(61));function ut(t){return t&&t.__esModule?t:{default:t}}n.default.use([r.default,a.default,o.default,s.default,h.default,u.default,l.default,c.default,d.default,f.default,p.default,g.default,v.default,m.default,y.default,x.default,w.default,b.default,M.default,k.default,C.default,_.default,T.default,A.default,j.default,F.default,P.default,S.default,L.default,z.default,O.default,B.default,R.default,D.default,I.default,E.default,Y.default,W.default,X.default,N.default,G.default,U.default,V.default,H.default,$.default,J.default,q.default,Z.default,K.default,Q.default,tt.default,et.default,it.default,nt.default,rt.default,at.default,ot.default,st.default,ht.default]),e.default=n.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(t){return t&&t.__esModule?t:{default:t}}(i(0));e.default={name:"util.dom",extend:null,component:function(){var t=r.default.include("util.base");return{find:function(){var e=arguments;if(1==e.length){if(t.typeCheck("string",e[0]))return document.querySelectorAll(e[0])}else if(2==e.length&&t.typeCheck("object",e[0])&&t.typeCheck("string",e[1]))return e[0].querySelectorAll(e[1]);return[]},each:function(e,i){if(t.typeCheck("function",i)){var n=null;t.typeCheck("string",e)?n=document.querySelectorAll(e):t.typeCheck("array",e)&&(n=e),null!=n&&Array.prototype.forEach.call(n,function(t,e){i.apply(t,[e,t])})}},attr:function(e,i){if(t.typeCheck(["string","array"],e)){var n=document.querySelectorAll(e);if(t.typeCheck("object",i))for(var r=0;r<n.length;r++)for(var a in i)n[r].setAttribute(a,i[a]);else if(t.typeCheck("string",i)&&n.length>0)return n[0].getAttribute(i)}},remove:function(t){this.each(t,function(){this.parentNode.removeChild(this)})},offset:function(t){var e,i,r={top:0,left:0},a=t&&t.ownerDocument;if(a){e=a.documentElement;return"undefined"!==n(t.getBoundingClientRect)&&(r=t.getBoundingClientRect()),i=function(t){return function(t){return null!=t&&t==t.window}(t)?t:9===t.nodeType&&(t.defaultView||t.parentWindow)}(a),{top:r.top+(i.pageYOffset||e.scrollTop)-(e.clientTop||0),left:r.left+(i.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}}}}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t&&t.__esModule?t:{default:t}}(i(0));e.default={name:"util.math",extend:null,component:function(){var t=n.default.include("util.base");function e(t,e){for(var i=[],n=0,r=t.length;n<r;n++){for(var a=0,o=0,s=t[n].length;o<s;o++)a+=t[n][o]*e[o];i.push(a)}return i}return{rotate:function(t,e,i){return{x:t*Math.cos(i)-e*Math.sin(i),y:t*Math.sin(i)+e*Math.cos(i)}},resize:function(t,e,i,n){var r=n/i;return i>=t&&r<=1?(i=t,n=e*r):n>=e&&(n=e,i=t/r),{width:i,height:n}},radian:function(t){return t*Math.PI/180},degree:function(t){return 180*t/Math.PI},angle:function(t,e,i,n){var r=i-t,a=n-e;return Math.atan2(a,r)},interpolateNumber:function(t,e){var i=e-t;return function(e){return t+i*e}},interpolateRound:function(t,e){var i=e-t;return function(e){return Math.round(t+i*e)}},getFixed:function(t,e){var i=(t+"").split("."),n=i.length<2?0:i[1].length,r=(e+"").split("."),a=r.length<2?0:r[1].length;return n>a?n:a},fixed:function(t){var e=this.getFixed(t,0),i=Math.pow(10,e),n=function(t){return Math.round(t*i)/i};return n.plus=function(t,e){return Math.round(t*i+e*i)/i},n.minus=function(t,e){return Math.round(t*i-e*i)/i},n.multi=function(t,e){return Math.round(t*i*(e*i))/(i*i)},n.div=function(t,e){var n=t*i/(e*i),r=Math.pow(10,this.getFixed(n,0));return Math.round(n*r)/r},n.remain=function(t,e){return Math.round(t*i%(e*i))/i},n},round:function(t,e){var i=Math.pow(10,e);return Math.round(t*i)/i},plus:function(t,e){var i=Math.pow(10,this.getFixed(t,e));return Math.round(t*i+e*i)/i},minus:function(t,e){var i=Math.pow(10,this.getFixed(t,e));return Math.round(t*i-e*i)/i},multi:function(t,e){var i=Math.pow(10,this.getFixed(t,e));return Math.round(t*i*(e*i))/(i*i)},div:function(t,e){var i=Math.pow(10,this.getFixed(t,e)),n=t*i/(e*i),r=Math.pow(10,this.getFixed(n,0));return Math.round(n*r)/r},remain:function(t,e){var i=Math.pow(10,this.getFixed(t,e));return Math.round(t*i%(e*i))/i},nice:function(t,e,i,n){if(n=n||!1,t>e)var r=t,a=e;else a=t,r=e;var o,s,h=i,u=0,l=[];function c(t,e){var i=Math.floor(Math.log(t)/Math.LN10),n=t/Math.pow(10,i);return niceFraction=e?n<1.5?1:n<3?2:n<7?5:10:n<=1?1:n<=2?2:n<=5?5:10,niceFraction*Math.pow(10,i)}return l=n?c(r-a,!1):r-a,u=n?c(l/h,!0):l/h,o=n?Math.floor(a/u)*u:a,s=n?Math.floor(r/u)*u:r,{min:o,max:s,range:l,spacing:u}},matrix:function(i,n){return t.typeCheck("array",n[0])?function(t,i){for(var n=[],r=[],a=0,o=i.length;a<o;a++)n[a]=[],r[a]=[];for(a=0,o=i.length;a<o;a++)for(var s=0,h=i[a].length;s<h;s++)n[s].push(i[a][s]);for(a=0,o=n.length;a<o;a++){var u=e(t,n[a]);for(s=0,h=u.length;s<h;s++)r[s].push(u[s])}return r}(i,n):e(i,n)},matrix3d:function(t,e){return e[0]instanceof Array||e[0]instanceof Float32Array?function(t,e){var i=[new Float32Array(4),new Float32Array(4),new Float32Array(4),new Float32Array(4)],n=[new Float32Array([e[0][0],e[1][0],e[2][0],e[3][0]]),new Float32Array([e[0][1],e[1][1],e[2][1],e[3][1]]),new Float32Array([e[0][2],e[1][2],e[2][2],e[3][2]]),new Float32Array([e[0][3],e[1][3],e[2][3],e[3][3]])];return i[0][0]=t[0][0]*n[0][0]+t[0][1]*n[0][1]+t[0][2]*n[0][2]+t[0][3]*n[0][3],i[1][0]=t[1][0]*n[0][0]+t[1][1]*n[0][1]+t[1][2]*n[0][2]+t[1][3]*n[0][3],i[2][0]=t[2][0]*n[0][0]+t[2][1]*n[0][1]+t[2][2]*n[0][2]+t[2][3]*n[0][3],i[3][0]=t[3][0]*n[0][0]+t[3][1]*n[0][1]+t[3][2]*n[0][2]+t[3][3]*n[0][3],i[0][1]=t[0][0]*n[1][0]+t[0][1]*n[1][1]+t[0][2]*n[1][2]+t[0][3]*n[1][3],i[1][1]=t[1][0]*n[1][0]+t[1][1]*n[1][1]+t[1][2]*n[1][2]+t[1][3]*n[1][3],i[2][1]=t[2][0]*n[1][0]+t[2][1]*n[1][1]+t[2][2]*n[1][2]+t[2][3]*n[1][3],i[3][1]=t[3][0]*n[1][0]+t[3][1]*n[1][1]+t[3][2]*n[1][2]+t[3][3]*n[1][3],i[0][2]=t[0][0]*n[2][0]+t[0][1]*n[2][1]+t[0][2]*n[2][2]+t[0][3]*n[2][3],i[1][2]=t[1][0]*n[2][0]+t[1][1]*n[2][1]+t[1][2]*n[2][2]+t[1][3]*n[2][3],i[2][2]=t[2][0]*n[2][0]+t[2][1]*n[2][1]+t[2][2]*n[2][2]+t[2][3]*n[2][3],i[3][2]=t[3][0]*n[2][0]+t[3][1]*n[2][1]+t[3][2]*n[2][2]+t[3][3]*n[2][3],i[0][3]=t[0][0]*n[3][0]+t[0][1]*n[3][1]+t[0][2]*n[3][2]+t[0][3]*n[3][3],i[1][3]=t[1][0]*n[3][0]+t[1][1]*n[3][1]+t[1][2]*n[3][2]+t[1][3]*n[3][3],i[2][3]=t[2][0]*n[3][0]+t[2][1]*n[3][1]+t[2][2]*n[3][2]+t[2][3]*n[3][3],i[3][3]=t[3][0]*n[3][0]+t[3][1]*n[3][1]+t[3][2]*n[3][2]+t[3][3]*n[3][3],i}(t,e):function(t,e){var i=new Float32Array(4);return i[0]=t[0][0]*e[0]+t[0][1]*e[1]+t[0][2]*e[2]+t[0][3]*e[3],i[1]=t[1][0]*e[0]+t[1][1]*e[1]+t[1][2]*e[2]+t[1][3]*e[3],i[2]=t[2][0]*e[0]+t[2][1]*e[1]+t[2][2]*e[2]+t[2][3]*e[3],i[3]=t[3][0]*e[0]+t[3][1]*e[1]+t[3][2]*e[2]+t[3][3]*e[3],i}(t,e)},inverseMatrix3d:function(t){return function(t){var e=[new Float32Array(4),new Float32Array(4),new Float32Array(4),new Float32Array(4)],i=t[0][0],n=t[0][1],r=t[0][2],a=t[0][3],o=t[1][0],s=t[1][1],h=t[1][2],u=t[1][3],l=t[2][0],c=t[2][1],d=t[2][2],f=t[2][3],p=t[3][0],g=t[3][1],v=t[3][2],m=t[3][3];e[0][0]=h*f*g-u*d*g+u*c*v-s*f*v-h*c*m+s*d*m,e[0][1]=a*d*g-r*f*g-a*c*v+n*f*v+r*c*m-n*d*m,e[0][2]=r*u*g-a*h*g+a*s*v-n*u*v-r*s*m+n*h*m,e[0][3]=a*h*c-r*u*c-a*s*d+n*u*d+r*s*f-n*h*f,e[1][0]=u*d*p-h*f*p-u*l*v+o*f*v+h*l*m-o*d*m,e[1][1]=r*f*p-a*d*p+a*l*v-i*f*v-r*l*m+i*d*m,e[1][2]=a*h*p-r*u*p-a*o*v+i*u*v+r*o*m-i*h*m,e[1][3]=r*u*l-a*h*l+a*o*d-i*u*d-r*o*f+i*h*f,e[2][0]=s*f*p-u*c*p+u*l*g-o*f*g-s*l*m+o*c*m,e[2][1]=a*c*p-n*f*p-a*l*g+i*f*g+n*l*m-i*c*m,e[2][2]=n*u*p-a*s*p+a*o*g-i*u*g-n*o*m+i*s*m,e[2][3]=a*s*l-n*u*l-a*o*c+i*u*c+n*o*f-i*s*f,e[3][0]=h*c*p-s*d*p-h*l*g+o*d*g+s*l*v-o*c*v,e[3][1]=n*d*p-r*c*p+r*l*g-i*d*g-n*l*v+i*c*v,e[3][2]=r*s*p-n*h*p-r*o*g+i*h*g+n*o*v-i*s*v,e[3][4]=n*h*l-r*s*l+r*o*c-i*h*c-n*o*d+i*s*d;var y=1/(i*e[0][0]+o*e[0][1]+l*e[0][2]+p*e[0][3]);return 0===y?e=[new Float32Array([1,0,0,0]),new Float32Array([0,1,0,0]),new Float32Array([0,0,1,0]),new Float32Array([0,0,0,1])]:(e[0][0]*=y,e[0][1]*=y,e[0][2]*=y,e[0][3]*=y,e[1][0]*=y,e[1][1]*=y,e[1][2]*=y,e[1][3]*=y,e[2][0]*=y,e[2][1]*=y,e[2][2]*=y,e[2][3]*=y,e[3][0]*=y,e[3][1]*=y,e[3][2]*=y,e[3][4]*=y),e}(t)},scaleValue:function(t,e,i,n,r){return(r-n)*((t-(e=e==i?0:e))/(i-e))+n}}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t&&t.__esModule?t:{default:t}}(i(0));e.default={name:"util.color",extend:null,component:function(){var t=n.default.include("util.base"),e=n.default.include("util.math");var i={regex:/(linear|radial)\((.*)\)(.*)/i,format:function(t,e){if("hex"==e){var i=t.r.toString(16);t.r<16&&(i="0"+i);var n=t.g.toString(16);t.g<16&&(n="0"+n);var r=t.b.toString(16);return t.b<16&&(r="0"+r),"#"+[i,n,r].join("").toUpperCase()}return"rgb"==e?void 0===t.a?"rgb("+[t.r,t.g,t.b].join(",")+")":"rgba("+[t.r,t.g,t.b,t.a].join(",")+")":t},scale:function(){var t,n;function r(e,r){var a={r:parseInt(t.r+(n.r-t.r)*e,10),g:parseInt(t.g+(n.g-t.g)*e,10),b:parseInt(t.b+(n.b-t.b)*e,10)};return i.format(a,r)}return r.domain=function(e,a){return t=i.rgb(e),n=i.rgb(a),r},r.ticks=function(t){for(var i=1/t,n=0,a=[];n<=1;){var o=r(n,"hex");a.push(o),n=e.plus(n,i)}return a},r},map:function(t,e){var n=[];e=e||5;for(var r=i.scale(),a=0,o=t.length-1;a<o;a++)if(0==a)n=r.domain(t[a],t[a+1]).ticks(e);else{var s=r.domain(t[a],t[a+1]).ticks(e);s.shift(),n=n.concat(s)}return n},rgb:function(e){if("string"==typeof e){if(e.indexOf("rgb(")>-1){for(var i=0,n=(r=e.replace("rgb(","").replace(")","").split(",")).length;i<n;i++)r[i]=parseInt(t.trim(r[i]),10);return{r:r[0],g:r[1],b:r[2],a:1}}if(e.indexOf("rgba(")>-1){for(i=0,n=(r=e.replace("rgba(","").replace(")","").split(",")).length;i<n;i++)r[i]=n-1==i?parseFloat(t.trim(r[i])):parseInt(t.trim(r[i]),10);return{r:r[0],g:r[1],b:r[2],a:r[3]}}if(0==e.indexOf("#")){var r=[];if(3==(e=e.replace("#","")).length)for(i=0,n=e.length;i<n;i++){var a=e.substr(i,1);r.push(parseInt(a+a,16))}else for(i=0,n=e.length;i<n;i+=2)r.push(parseInt(e.substr(i,2),16));return{r:r[0],g:r[1],b:r[2],a:1}}}return e},HSVtoRGB:function(t,e,i){360==t&&(t=0);var n=e*i,r=n*(1-Math.abs(t/60%2-1)),a=i-n,o=[];return 0<=t&&t<60?o=[n,r,0]:60<=t&&t<120?o=[r,n,0]:120<=t&&t<180?o=[0,n,r]:180<=t&&t<240?o=[0,r,n]:240<=t&&t<300?o=[r,0,n]:300<=t&&t<360&&(o=[n,0,r]),{r:Math.ceil(255*(o[0]+a)),g:Math.ceil(255*(o[1]+a)),b:Math.ceil(255*(o[2]+a))}},RGBtoHSV:function(t,e,i){var n=t/255,r=e/255,a=i/255,o=Math.max(n,r,a),s=o-Math.min(n,r,a),h=0;0==s?h=0:o==n?h=(r-a)/s%6*60:o==r?h=60*((a-n)/s+2):o==a&&(h=60*((n-r)/s+4)),h<0&&(h=360+h);return{h:h,s:0==o?0:s/o,v:o}},trim:function(t){return(t||"").replace(/^\s+|\s+$/g,"")},lighten:function(t,e){t=t.replace(/[^0-9a-f]/gi,""),e=e||0;var i,n,r=[];for(n=0;n<6;n+=2)i=parseInt(t.substr(n,2),16),i=Math.round(Math.min(Math.max(0,i+i*e),255)).toString(16),r.push(("00"+i).substr(i.length));return"#"+r.join("")},darken:function(t,e){return this.lighten(t,-e)},parse:function(t){return this.parseGradient(t)},parseGradient:function(t){var e=t.match(this.regex);if(!e)return t;var i=this.trim(e[1]);return{type:i+"Gradient",attr:this.parseAttr(i,this.trim(e[2])),children:this.parseStop(this.trim(e[3]))}},parseStop:function(t){for(var e=t.split(","),i=[],n=0,r=e.length;n<r;n++){var a=(t=e[n]).split(" ");0!=a.length&&(1==a.length?i.push({type:"stop",attr:{"stop-color":a[0]}}):2==a.length?i.push({type:"stop",attr:{offset:a[0],"stop-color":a[1]}}):3==a.length&&i.push({type:"stop",attr:{offset:a[0],"stop-color":a[1],"stop-opacity":a[2]}}))}var o=-1,s=-1;for(n=0,r=i.length;n<r;n++){t=i[n];if(0==n?t.offset||(t.offset=0):n==r-1&&(t.offset||(t.offset=1)),-1==o&&void 0===t.offset)o=n;else if(-1==s&&void 0===t.offset){for(var h=(s=n)-o,u=i[s].offset.indexOf("%")>-1?parseFloat(i[s].offset)/100:i[s].offset,l=i[o].offset.indexOf("%")>-1?parseFloat(i[o].offset)/100:i[o].offset,c=(u-l)/h,d=l+c,f=o+1;f<s;f++)i[f].offset=d,d+=c;o=s,s=-1}}return i},parseAttr:function(t,e){if("linear"!=t){for(n=0,r=(i=e.split(",")).length;n<r;n++)-1==i[n].indexOf("%")&&(i[n]=parseFloat(i[n]));return{cx:i[0],cy:i[1],r:i[2],fx:i[3],fy:i[4]}}switch(e){case"":case"left":return{x1:0,y1:0,x2:1,y2:0,direction:e||"left"};case"right":return{x1:1,y1:0,x2:0,y2:0,direction:e};case"top":return{x1:0,y1:0,x2:0,y2:1,direction:e};case"bottom":return{x1:0,y1:1,x2:0,y2:0,direction:e};case"top left":return{x1:0,y1:0,x2:1,y2:1,direction:e};case"top right":return{x1:1,y1:0,x2:0,y2:1,direction:e};case"bottom left":return{x1:0,y1:1,x2:1,y2:0,direction:e};case"bottom right":return{x1:1,y1:1,x2:0,y2:0,direction:e};default:for(var i,n=0,r=(i=e.split(",")).length;n<r;n++)-1==i[n].indexOf("%")&&(i[n]=parseFloat(i[n]));return{x1:i[0],y1:i[1],x2:i[2],y2:i[3]}}},colorHash:function(t,e){var i=0;return t&&(i=function(t){var e=0,i=1,n=0;if(t){for(var r=0;r<t.length&&!(r>6);r++)e+=i*(t.charCodeAt(r)%10),n+=9*i,i*=.7;n>0&&(e/=n)}return e}(t=(t=t.replace(/.*`/,"")).replace(/\(.*/,""))),"function"==typeof e?e(i):{r:200+Math.round(55*i),g:0+Math.round(230*(1-i)),b:0+Math.round(55*(1-i))}}};return i.map.parula=function(t){return i.map(["#352a87","#0f5cdd","#00b5a6","#ffc337","#fdff00"],t)},i.map.jet=function(t){return i.map(["#00008f","#0020ff","#00ffff","#51ff77","#fdff00","#ff0000","#800000"],t)},i.map.hsv=function(t){return i.map(["#ff0000","#ffff00","#00ff00","#00ffff","#0000ff","#ff00ff","#ff0000"],t)},i.map.hot=function(t){return i.map(["#0b0000","#ff0000","#ffff00","#ffffff"],t)},i.map.pink=function(t){return i.map(["#1e0000","#bd7b7b","#e7e5b2","#ffffff"],t)},i.map.bone=function(t){return i.map(["#000000","#4a4a68","#a6c6c6","#ffffff"],t)},i.map.copper=function(t){return i.map(["#000000","#3d2618","#9d623e","#ffa167","#ffc77f"],t)},i}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"collection",extend:null,component:function(){var t=function(t,e,i,n){this.type=t,this.selector=e,this.options=i,this.destroy=function(){for(var t=0;t<n.length;t++)n[t].destroy()};for(var r=0;r<n.length;r++)this.push(n[r])};return t.prototype=Object.create(Array.prototype),t}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t&&t.__esModule?t:{default:t}}(i(0));e.default={name:"manager",extend:null,component:function(){var t=n.default.include("util.base"),e=new function(){var i=[],n=[];this.add=function(t){i.push(t)},this.emit=function(t,e,n){for(var r=[],a=0;a<i.length;a++){t!=(o=i[a]).selector&&t!=o.type||r.push(o)}for(a=0;a<r.length;a++)for(var o=r[a],s=0;s<o.length;s++)o[s].emit(e,n)},this.get=function(e){if(t.typeCheck("integer",e))return i[e];if(t.typeCheck("string",e)){for(var n=0;n<i.length;n++){if(e==(a=i[n]).selector)return 1==a.length?a[0]:a}var r=[];for(n=0;n<i.length;n++){var a;e==(a=i[n]).type&&r.push(a)}return r}},this.getAll=function(){return i},this.remove=function(e){if(t.typeCheck("integer",e))return i.splice(e,1)[0]},this.shift=function(){return i.shift()},this.pop=function(){return i.pop()},this.size=function(){return i.length},this.addClass=function(t){n.push(t)},this.getClass=function(e){if(t.typeCheck("integer",e))return n[e];if(t.typeCheck("string",e))for(var i=0;i<n.length;i++)if(e==n[i].type)return n[i];return null},this.getClassAll=function(){return n},this.create=function(i,n,r){var a=e.getClass(i);if(t.typeCheck("null",a))throw new Error("JUI_CRITICAL_ERR: '"+i+"' does not exist");return a.class(n,r)}};return e}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(t){return t&&t.__esModule?t:{default:t}}(i(0));e.default={name:"core",extend:null,component:function(){var t=r.default.include("util.base"),e=r.default.include("util.dom"),i=r.default.include("manager"),a=r.default.include("collection"),o=function(){this.emit=function(e,i){if(t.typeCheck("string",e)){for(var n,r=0;r<this.event.length;r++){var a=this.event[r];if(a.type==e.toLowerCase()){var o=t.typeCheck("array",i)?i:[i];n=a.callback.apply(this,o)}}return n}},this.on=function(e,i){t.typeCheck("string",e)&&t.typeCheck("function",i)&&this.event.push({type:e.toLowerCase(),callback:i,unique:!1})},this.off=function(e){for(var i=[],n=0;n<this.event.length;n++){var r=this.event[n];(t.typeCheck("function",e)&&r.callback!=e||t.typeCheck("string",e)&&r.type!=e.toLowerCase())&&i.push(r)}this.event=i},this.setOption=function(e,i){if(t.typeCheck("object",e))for(var n in e)this.options[n]=e[n];else this.options[e]=i},this.destroy=function(){if(this.__proto__)for(var t in this.__proto__)delete this.__proto__[t]}};return o.build=function(n){return function(o,s){var h=[],u=[];t.typeCheck("string",o)?u=e.find(o):t.typeCheck("object",o)?u.push(o):u.push(document.createElement("div"));for(var l=0,c=u.length;l<c;l++)h[l]=r.default.createUIObject(n,o,l,u[l],s);return i.add(new a(n.type,o,s,h)),0==h.length?null:1==h.length?h[0]:h}},o.init=function(t){var e=null;return"object"===(void 0===t?"undefined":n(t))&&(e=o.build(t),i.addClass({type:t.type,class:e})),e},o.setup=function(){return{event:{}}},o}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t&&t.__esModule?t:{default:t}}(i(0));e.default={name:"util.time",extend:null,component:function(){var t=n.default.include("util.base"),e={MILLISECOND:1e3,MINUTE:6e4,HOUR:36e5,DAY:864e5,years:"years",months:"months",days:"days",hours:"hours",minutes:"minutes",seconds:"seconds",milliseconds:"milliseconds",weeks:"weeks",diff:function(t,i,n){var r=+i-+n;return"seconds"==t?Math.abs(Math.floor(r/e.MILLISECOND)):"minutes"==t?Math.abs(Math.floor(r/e.MINUTE)):"hours"==t?Math.abs(Math.floor(r/e.HOUR)):"days"==t?Math.abs(Math.floor(r/e.DAY)):r},add:function(t){if(arguments.length<=2)return t;if(arguments.length>2){for(var e=new Date(+t),i=1;i<arguments.length;i+=2){var n="string"==typeof arguments[i]?this[arguments[i]]:arguments[i],r=arguments[i+1];this.years==n?e.setFullYear(e.getFullYear()+r):this.months==n?e.setMonth(e.getMonth()+r):this.days==n?e.setDate(e.getDate()+r):this.hours==n?e.setHours(e.getHours()+r):this.minutes==n?e.setMinutes(e.getMinutes()+r):this.seconds==n?e.setSeconds(e.getSeconds()+r):this.milliseconds==n?e.setMilliseconds(e.getMilliseconds()+r):this.weeks==n&&e.setDate(e.getDate()+7*r)}return e}},format:function(e,i,n){return t.dateFormat(e,i,n)}};return e}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t&&t.__esModule?t:{default:t}}(i(0));e.default={name:"util.transform",extend:null,component:function(){var t=n.default.include("util.math");return function(e){function i(i){for(var n=0,r=e.length;n<r;n++)e[n]=t.matrix(i,e[n]);return e}this.matrix=function(){var e=arguments,i=e[0];return"move"==i?[new Float32Array([1,0,e[1]]),new Float32Array([0,1,e[2]]),new Float32Array([0,0,1])]:"scale"==i?[new Float32Array([e[1],0,0]),new Float32Array([0,e[2],0]),new Float32Array([0,0,1])]:"rotate"==i?[new Float32Array([Math.cos(t.radian(e[1])),-Math.sin(t.radian(e[1])),0]),new Float32Array([Math.sin(t.radian(e[1])),Math.cos(t.radian(e[1])),0]),new Float32Array([0,0,1])]:"move3d"==i?[new Float32Array([1,0,0,e[1]]),new Float32Array([0,1,0,e[2]]),new Float32Array([0,0,1,e[3]]),new Float32Array([0,0,0,1])]:"scale3d"==i?[new Float32Array([e[1],0,0,0]),new Float32Array([0,e[2],0,0]),new Float32Array([0,0,e[3],0]),new Float32Array([0,0,0,1])]:"rotate3dz"==i?[new Float32Array([Math.cos(t.radian(e[1])),-Math.sin(t.radian(e[1])),0,0]),new Float32Array([Math.sin(t.radian(e[1])),Math.cos(t.radian(e[1])),0,0]),new Float32Array([0,0,1,0]),new Float32Array([0,0,0,1])]:"rotate3dx"==i?[new Float32Array([1,0,0,0]),new Float32Array([0,Math.cos(t.radian(e[1])),-Math.sin(t.radian(e[1])),0]),new Float32Array([0,Math.sin(t.radian(e[1])),Math.cos(t.radian(e[1])),0]),new Float32Array([0,0,0,1])]:"rotate3dy"==i?[new Float32Array([Math.cos(t.radian(e[1])),0,Math.sin(t.radian(e[1])),0]),new Float32Array([0,1,0,0]),new Float32Array([-Math.sin(t.radian(e[1])),0,Math.cos(t.radian(e[1])),0]),new Float32Array([0,0,0,1])]:void 0},this.move=function(t,e){return i(this.matrix("move",t,e))},this.move3d=function(t,e,n){return i(this.matrix("move3d",t,e,n))},this.scale=function(t,e){return i(this.matrix("scale",t,e))},this.scale3d=function(t,e,n){return i(this.matrix("scale3d",t,e,n))},this.rotate=function(t){return i(this.matrix("rotate",t))},this.rotate3dz=function(t){return i(this.matrix("rotate3dz",t))},this.rotate3dx=function(t){return i(this.matrix("rotate3dx",t))},this.rotate3dy=function(t){return i(this.matrix("rotate3dy",t))},this.custom=function(t){return i(t)},this.merge=function(){for(var e=arguments,n=this.matrix.apply(this,e[0]),r=1;r<e.length;r++)n=t.matrix(n,this.matrix.apply(this,e[r]));return i(n)},this.merge2=function(i){for(var n=0,r=e.length;n<r;n++){for(var a=i.apply(null,e[n]),o=this.matrix.apply(this,a[0]),s=1;s<a.length;s++)o=t.matrix(o,this.matrix.apply(this,a[s]));e[n]=t.matrix(o,e[n])}}}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"util.canvas.base",extend:null,component:function(){return function(t){this.clearContext=function(){t.clearRect(0,0,t.canvas.width,t.canvas.height)},this.drawLine=function(e,i,n,r,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;a=a||"#434d6b",t.beginPath(),t.moveTo(e,i),t.lineTo(n,r),t.lineWidth=o,t.strokeStyle=a,t.stroke()},this.drawCurve=function(e,i,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:16;t.beginPath();var s=e.reduce(function(t,e){return t.push(e[0],e[1]),t},[]),h=getCurvePoints(s,i,n,r,a,o);t.moveTo(h[0],h[1]);for(var u=2;u<h.length-1;u+=2)t.lineTo(h[u],h[u+1])},this.drawDashedLine=function(e,i,n,r,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[3,3],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1;a=a||"#434d6b",t.beginPath(),t.moveTo(e,i),t.lineTo(n,r),t.lineWidth=s,t.strokeStyle=a;var h=t.getLineDash();t.setLineDash(o),t.stroke(),t.setLineDash(h)},this.drawLines=function(e){e=e||"#434d6b",t.beginPath();for(var i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];t.moveTo(n[0][0],n[0][1]),n.slice(1).map(function(e){return t.lineTo(e[0],e[1])}),t.lineWidth=1,t.strokeStyle=e,t.stroke()},this.drawRoundRect=function(e,i,n,r,a){t.beginPath(),t.moveTo(e,i+a),t.lineTo(e,i+r-a),t.arcTo(e,i+r,e+a,i+r,a),t.lineTo(e+n-a,i+r),t.arcTo(e+n,i+r,e+n,i+r-a,a),t.lineTo(e+n,i+a),t.arcTo(e+n,i,e+n-a,i,a),t.lineTo(e+a,i),t.arcTo(e,i,e,i+a,a),t.closePath()},this.drawFreeRect=function(e,i,n,r,a,o,s,h,u){var l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:null;u=u||"#ffffff",t.beginPath(),t.moveTo(e,i),t.lineTo(n,r),t.lineTo(a,o),t.lineTo(s,h),t.closePath(),t.fillStyle=u,null!=l&&(t.lineWidth=2,t.strokeStyle=l,t.stroke()),t.fill()},this.drawFreeRectStroke=function(e,i,n,r,a,o,s,h,u){u=u||"#ffffff",t.beginPath(),t.moveTo(e,i),t.lineTo(n,r),t.lineTo(a,o),t.lineTo(s,h),t.lineWidth=1,t.strokeStyle=u,t.stroke()},this.drawTriangle=function(e,i,n,r){r=r||"#ffffff",t.beginPath(),t.moveTo(e,i-n),t.lineTo(e-n,i+n),t.lineTo(e+n,i+n),t.closePath(),t.fillStyle=r,t.fill()},this.drawSquare=function(e,i,n,r){r=r||"#ffffff",t.beginPath(),t.moveTo(e-n,i-n),t.lineTo(e-n,i+n),t.lineTo(e+n,i+n),t.lineTo(e+n,i-n),t.closePath(),t.fillStyle=r,t.fill()},this.drawPage=function(e,i,n,r){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];drawFreeRect(t,e+i,n,e+i-20,n+14,e+i-20,n+52,e+i,n+38,r,a?"rgba(255,255,255,0.2)":null)},this.drawCircle=function(e,i,n,r){r=r||"white",n=n||1,t.beginPath(),t.arc(e,i,n,0,2*Math.PI),t.fillStyle=r,t.fill()},this.drawBullet=function(e,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:74,r=t.createLinearGradient(e,i,e+n,i);r.addColorStop(0,"#1074fc"),r.addColorStop(1,"rgba(37, 172, 254, 0)"),t.beginPath(),t.arc(e,i,2,Math.PI/2,Math.PI/2*3),t.lineTo(e+n,i-2),t.lineTo(e+n,i+2),t.closePath(),t.fillStyle=r,t.fill(),t.fillStyle=r},this.getCurvePoints=function(t,e,i){var n,r,a,o,s,h,u,l,c,d,f,p,g,v=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,m=arguments.length>4&&void 0!==arguments[4]&&arguments[4],y=arguments.length>5&&void 0!==arguments[5]?arguments[5]:16,x=[],w=[];for(x=t.slice(0),m?(x.unshift(t[t.length-1]),x.unshift(t[t.length-2]),x.unshift(t[t.length-1]),x.unshift(t[t.length-2]),x.push(t[0]),x.push(t[1])):(x.unshift(t[1]),x.unshift(t[0]),x.push(t[t.length-2]),x.push(t[t.length-1])),g=2;g<x.length-4;g+=2)for(p=0;p<=y;p++)a=(x[g+2]-x[g-2])*v,o=(x[g+4]-x[g])*v,s=(x[g+3]-x[g-1])*v,h=(x[g+5]-x[g+1])*v,f=p/y,u=2*Math.pow(f,3)-3*Math.pow(f,2)+1,l=-2*Math.pow(f,3)+3*Math.pow(f,2),c=Math.pow(f,3)-2*Math.pow(f,2)+f,d=Math.pow(f,3)-Math.pow(f,2),n=u*x[g]+l*x[g+2]+c*a+d*o,r=u*x[g+1]+l*x[g+3]+c*s+d*h,w.push(n),r>i?w.push(i):r<e?w.push(e):w.push(r);return w}}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t&&t.__esModule?t:{default:t}}(i(0));e.default={name:"util.scale.linear",extend:null,component:function(){var t=n.default.include("util.math");return function e(){var i=[0,1],n=[0,1],r=!1,a=!1,o={},s=null,h=null,u=null,l=null,c=null,d=null,f=null,p=null,g=0,v=null,m=null;function y(t){if(l<t)return a?y(l):n[0]+Math.abs(t-i[0])*g;if(u>t)return a?y(u):n[0]-Math.abs(t-i[0])*g;var e=(t-i[0])/f;return v(e)}return y.cache=function(){return o},y.min=function(){return Math.min.apply(Math,i)},y.max=function(){return Math.max.apply(Math,i)},y.rangeMin=function(){return Math.min.apply(Math,n)},y.rangeMax=function(){return Math.max.apply(Math,n)},y.rate=function(t,e){return y(y.max()*(t/e))},y.clamp=function(t){a=t||!1},y.domain=function(t){if(!arguments.length)return i;for(var e=0;e<t.length;e++)i[e]=t[e];return u=y.min(),l=y.max(),f=i[1]-i[0],this},y.range=function(e){if(!arguments.length)return n;for(var i=0;i<e.length;i++)n[i]=e[i];return s=t.interpolateRound(n[0],n[1]),h=t.interpolateNumber(n[0],n[1]),c=y.rangeMin(),d=y.rangeMax(),p=Math.abs(d-c),g=p/f,v=r?s:h,this},y.rangeRound=function(t){return r=!0,y.range(t)},y.rangeBand=function(){return m},y.invert=function(t){return e().domain(n).range(i)(t)},y.ticks=function(e,n,r,a){a=a||!1;var o=y.max();if(0==i[0]&&0==i[1])return[];for(var s=t.nice(i[0],i[1],e||10,n||!1),h=[],u=a?s.max:s.min,l=a?s.min:s.max,c=s.spacing,d=t.fixed(c);a?l<=u:u<=l;)h.push(u),u=a?d.minus(u,c):d.plus(u,c);if(a){h[0]!=o&&h.unshift(o);for(var f=0,p=h.length;f<p;f++)h[f]=Math.abs(h[f]-o)}else h[h.length-1]!=l&&u>l&&h.push(l),i[0]>i[1]&&h.reverse();var g=y(h[0]),v=y(h[1]);return m=Math.abs(v-g),h},y}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"util.scale.circle",extend:null,component:function(){return function(){var t=[],e=[],i=0;function n(t){}return n.domain=function(e){if(void 0===e)return t;for(var i=0;i<e.length;i++)t[i]=e[i];return this},n.range=function(t){if(void 0===t)return e;for(var i=0;i<t.length;i++)e[i]=t[i];return this},n.rangePoints=function(r,a){a=a||0;for(var o=t.length,s=(r[1]-r[0]-a)/o,h=[],u=0;u<t.length;u++)h[u]=0==u?r[0]+a/2+s/2:h[u-1]+s;return e=h,i=s,n},n.rangeBands=function(r,a,o){a=a||0,o=o||0;for(var s=t.length-1,h=(r[1]-r[0])/s,u=[],l=0;l<t.length;l++)u[l]=0==l?r[0]:h+u[l-1];return i=h,e=u,n},n.rangeBand=function(){return i},n}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t&&t.__esModule?t:{default:t}}(i(0));e.default={name:"util.scale.log",extend:null,component:function(){var t=n.default.include("util.base"),e=n.default.include("util.scale.linear");return function(i){var n=i||10,r=e(),a=[],o=null,s=null;function h(t){return t<0?-Math.log(Math.abs(t))/Math.log(n):t>0?Math.log(t)/Math.log(n):0}function u(t){return t<0?-Math.pow(n,Math.abs(t)):t>0?Math.pow(n,t):0}function l(t){return Math.pow(n,(t+"").length-1)<t}function c(t){return Math.pow(n,(t+"").length)}var d=function(t){var e=t;return t>o?e=o:t<s&&(e=s),r(h(e))};return t.extend(d,r),d.log=function(){for(var t=[],e=0;e<a.length;e++)t[e]=h(a[e]);return t},d.domain=function(t){if(!arguments.length)return a;for(var e=0;e<t.length;e++)a[e]=t[e];if(o=Math.max.apply(Math,a),s=Math.min.apply(Math,a),l(o)&&(a[1]=o=c(o)),l(Math.abs(s))){var i=c(Math.abs(s));a[0]=s=s<0?-i:i}return r.domain(d.log()),d},d.base=function(t){return r.domain(d.log()),d},d.invert=function(t){return u(r.invert(t))},d.ticks=function(t,e,i){var n=r.ticks(t,e,i||1e20,!0);n[n.length-1]<r.max()&&n.push(r.max());for(var a=[],o=0,s=n.length;o<s;o++)a[o]=u(n[o]);return a},d}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"util.scale.ordinal",extend:null,component:function(){return function(){var t=[],e=[],i=0,n={},r=!1;function a(i){var r=""+i;if(void 0!==n[r])return n[r];for(var a=-1,o=0;o<t.length;o++)if("string"==typeof i&&t[o]===i){a=o;break}return a>-1?(n[r]=e[a],e[a]):void 0!==e[i]?(n[r]=e[i],e[i]):null}return a.domain=function(e){if(void 0===e)return t;for(var i=0;i<e.length;i++)t[i]=e[i];return this},a.range=function(t){if(void 0===t)return e;for(var i=0;i<t.length;i++)e[i]=t[i];return this},a.rangePoints=function(n,o){o=o||0;for(var s=t.length,h=(n[1]-n[0]-o)/s,u=[],l=0;l<t.length;l++)u[l]=0==l?n[0]+o/2+h/2:u[l-1]+h;return e=u,i=h,r=!0,a},a.rangeBands=function(n,o,s){o=o||0,s=s||0;for(var h=t.length-1,u=(n[1]-n[0])/h,l=[],c=0;c<t.length;c++)l[c]=0==c?n[0]:u+l[c-1];return i=u,e=l,r=!1,a},a.rangeBand=function(){return i},a.invert=function(t){var n=Math.min(e[0],e[1]);if(r){var a=t;a<(n-=i/2)&&(a=n);var o=Math.abs(a-n)/i;return Math.floor(o)}return o=Math.abs(t-n)/i,Math.ceil(o)},a}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t&&t.__esModule?t:{default:t}}(i(0));e.default={name:"util.scale.time",extend:null,component:function(){var t=n.default.include("util.time"),e=n.default.include("util.scale.linear");return function(){var i,n=[],r=e(),a=r.domain;return r.domain=function(t){if(!arguments.length)return a.call(r);for(var e=0;e<t.length;e++)n[e]=+t[e];return a.call(r,n)},r.min=function(){return Math.min(n[0],n[n.length-1])},r.max=function(){return Math.max(n[0],n[n.length-1])},r.rate=function(t,e){return r(r.max()*(t/e))},r.ticks=function(e,a){for(var o=n[0],s=n[1],h=[];o<s;)h.push(new Date(+o)),o=t.add(o,e,a);h.push(new Date(+o));var u=r(h[1]),l=r(h[2]);return i=l-u,h},r.realTicks=function(e,a){var o=n[0],s=n[1],h=[],u=new Date(+o),l=null;for(e==t.years?l=new Date(u.getFullYear(),0,1):e==t.months?l=new Date(u.getFullYear(),u.getMonth(),1):e==t.days||e==t.weeks?l=new Date(u.getFullYear(),u.getMonth(),u.getDate()):e==t.hours?l=new Date(u.getFullYear(),u.getMonth(),u.getDate(),u.getHours(),0,0,0):e==t.minutes?l=new Date(u.getFullYear(),u.getMonth(),u.getDate(),u.getHours(),u.getMinutes(),0,0):e==t.seconds?l=new Date(u.getFullYear(),u.getMonth(),u.getDate(),u.getHours(),u.getMinutes(),u.getSeconds(),0):e==t.milliseconds&&(l=new Date(u.getFullYear(),u.getMonth(),u.getDate(),u.getHours(),u.getMinutes(),u.getSeconds(),u.getMilliseconds())),l=t.add(l,e,a);+l<+s;)h.push(new Date(+l)),l=t.add(l,e,a);var c=r(h[1]),d=r(h[2]);return i=d-c,h},r.rangeBand=function(){return i},r.invert=function(t){var i=e().domain(r.range()).range(r.domain());return new Date(i(t))},r}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t&&t.__esModule?t:{default:t}}(i(0));e.default={name:"util.scale",extend:null,component:function(){var t=n.default.include("util.math"),e=n.default.include("util.time"),i={circle:function(){var t=[],e=[],i=0;function n(t){}return n.domain=function(e){if(void 0===e)return t;for(var i=0;i<e.length;i++)t[i]=e[i];return this},n.range=function(t){if(void 0===t)return e;for(var i=0;i<t.length;i++)e[i]=t[i];return this},n.rangePoints=function(r,a){a=a||0;for(var o=t.length,s=(r[1]-r[0]-a)/o,h=[],u=0;u<t.length;u++)h[u]=0==u?r[0]+a/2+s/2:h[u-1]+s;return e=h,i=s,n},n.rangeBands=function(r,a,o){a=a||0,o=o||0;for(var s=t.length-1,h=(r[1]-r[0])/s,u=[],l=0;l<t.length;l++)u[l]=0==l?r[0]:h+u[l-1];return i=h,e=u,n},n.rangeBand=function(){return i},n},ordinal:function(){var t=[],e=[],i=0,n={};function r(i){var r=""+i;if(void 0!==n[r])return n[r];for(var a=-1,o=0;o<t.length;o++)if("string"==typeof i&&t[o]===i){a=o;break}return a>-1?(n[r]=e[a],e[a]):void 0!==e[i]?(t[i]=i,n[r]=e[i],e[i]):null}return r.domain=function(e){if(void 0===e)return t;for(var i=0;i<e.length;i++)t[i]=e[i];return this},r.range=function(t){if(void 0===t)return e;for(var i=0;i<t.length;i++)e[i]=t[i];return this},r.rangePoints=function(n,a){a=a||0;for(var o=t.length,s=(n[1]-n[0]-a)/o,h=[],u=0;u<t.length;u++)h[u]=0==u?n[0]+a/2+s/2:h[u-1]+s;return e=h,i=s,r},r.rangeBands=function(n,a,o){a=a||0,o=o||0;for(var s=t.length-1,h=(n[1]-n[0])/s,u=[],l=0;l<t.length;l++)u[l]=0==l?n[0]:h+u[l-1];return i=h,e=u,r},r.rangeBand=function(){return i},r.invert=function(t){return Math.ceil(t/i)},r},time:function(){var t,n=[],r=i.linear(),a=r.domain;return r.domain=function(t){if(!arguments.length)return a.call(r);for(var e=0;e<t.length;e++)n[e]=+t[e];return a.call(r,n)},r.min=function(){return Math.min(n[0],n[n.length-1])},r.max=function(){return Math.max(n[0],n[n.length-1])},r.rate=function(t,e){return r(r.max()*(t/e))},r.ticks=function(i,a){for(var o=n[0],s=n[1],h=[];o<s;)h.push(new Date(+o)),o=e.add(o,i,a);h.push(new Date(+o));var u=r(h[1]),l=r(h[2]);return t=l-u,h},r.realTicks=function(i,a){var o=n[0],s=n[1],h=[],u=new Date(+o),l=null;for(i==e.years?l=new Date(u.getFullYear(),0,1):i==e.months?l=new Date(u.getFullYear(),u.getMonth(),1):i==e.days||i==e.weeks?l=new Date(u.getFullYear(),u.getMonth(),u.getDate()):i==e.hours?l=new Date(u.getFullYear(),u.getMonth(),u.getDate(),u.getHours(),0,0,0):i==e.minutes?l=new Date(u.getFullYear(),u.getMonth(),u.getDate(),u.getHours(),u.getMinutes(),0,0):i==e.seconds?l=new Date(u.getFullYear(),u.getMonth(),u.getDate(),u.getHours(),u.getMinutes(),u.getSeconds(),0):i==e.milliseconds&&(l=new Date(u.getFullYear(),u.getMonth(),u.getDate(),u.getHours(),u.getMinutes(),u.getSeconds(),u.getMilliseconds())),l=e.add(l,i,a);+l<+s;)h.push(new Date(+l)),l=e.add(l,i,a);var c=r(h[1]),d=r(h[2]);return t=d-c,h},r.rangeBand=function(){return t},r.invert=function(t){var e=i.linear().domain(r.range()).range(r.domain());return new Date(e(t))},r},log:function(t){var e=t||10,n=i.linear(),r=[],a=null,o=null;function s(t){return t<0?-Math.log(Math.abs(t))/Math.log(e):t>0?Math.log(t)/Math.log(e):0}function h(t){return t<0?-Math.pow(e,Math.abs(t)):t>0?Math.pow(e,t):0}function u(t){return Math.pow(e,(t+"").length-1)<t}function l(t){return Math.pow(e,(t+"").length)}var c=function(t){var e=t;return t>a?e=a:t<o&&(e=o),n(s(e))};return $.extend(c,n),c.log=function(){for(var t=[],e=0;e<r.length;e++)t[e]=s(r[e]);return t},c.domain=function(t){if(!arguments.length)return r;for(var e=0;e<t.length;e++)r[e]=t[e];if(a=Math.max.apply(Math,r),o=Math.min.apply(Math,r),u(a)&&(r[1]=a=l(a)),u(Math.abs(o))){var i=l(Math.abs(o));r[0]=o=o<0?-i:i}return n.domain(c.log()),c},c.base=function(t){return n.domain(c.log()),c},c.invert=function(t){return h(n.invert(t))},c.ticks=function(t,e,i){var r=n.ticks(t,e,i||1e20,!0);r[r.length-1]<n.max()&&r.push(n.max());for(var a=[],o=0,s=r.length;o<s;o++)a[o]=h(r[o]);return a},c},linear:function(){var e=[0,1],n=[0,1],r=!1,a=!1,o={},s=null,h=null,u=null,l=null,c=null,d=null,f=null,p=null,g=0,v=null,m=null;function y(t){if(l<t)return a?y(l):n[0]+Math.abs(t-e[0])*g;if(u>t)return a?y(u):n[0]-Math.abs(t-e[0])*g;var i=(t-e[0])/f;return v(i)}return y.cache=function(){return o},y.min=function(){return Math.min.apply(Math,e)},y.max=function(){return Math.max.apply(Math,e)},y.rangeMin=function(){return Math.min.apply(Math,n)},y.rangeMax=function(){return Math.max.apply(Math,n)},y.rate=function(t,e){return y(y.max()*(t/e))},y.clamp=function(t){a=t||!1},y.domain=function(t){if(!arguments.length)return e;for(var i=0;i<t.length;i++)e[i]=t[i];return u=y.min(),l=y.max(),f=e[1]-e[0],this},y.range=function(e){if(!arguments.length)return n;for(var i=0;i<e.length;i++)n[i]=e[i];return s=t.interpolateRound(n[0],n[1]),h=t.interpolateNumber(n[0],n[1]),c=y.rangeMin(),d=y.rangeMax(),p=Math.abs(d-c),g=p/f,v=r?s:h,this},y.rangeRound=function(t){return r=!0,y.range(t)},y.rangeBand=function(){return m},y.invert=function(t){return i.linear().domain(n).range(e)(t)},y.ticks=function(i,n,r,a){a=a||!1;var o=y.max();if(0==e[0]&&0==e[1])return[];for(var s=t.nice(e[0],e[1],i||10,n||!1),h=[],u=a?s.max:s.min,l=a?s.min:s.max,c=s.spacing,d=t.fixed(c);a?l<=u:u<=l;)h.push(u),u=a?d.minus(u,c):d.plus(u,c);if(a){h[0]!=o&&h.unshift(o);for(var f=0,p=h.length;f<p;f++)h[f]=Math.abs(h[f]-o)}else h[h.length-1]!=l&&u>l&&h.push(l),e[0]>e[1]&&h.reverse();var g=y(h[0]),v=y(h[1]);return m=Math.abs(v-g),h},y}};return i}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"chart.vector",extend:null,component:function(){return function t(e,i,n){this.x=e||0,this.y=i||0,this.z=n||0,this.add=function(e){return e instanceof t?new t(this.x+e.x,this.y+e.y,this.z+e.z):new t(this.x+e,this.y+e,this.z+e)},this.subtract=function(e){return e instanceof t?new t(this.x-e.x,this.y-e.y,this.z-e.z):new t(this.x-e,this.y-e,this.z-e)},this.multiply=function(e){return e instanceof t?new t(this.x*e.x,this.y*e.y,this.z*e.z):new t(this.x*e,this.y*e,this.z*e)},this.dotProduct=function(t){var e=this.x*t.x+this.y*t.y+this.z*t.z;return Math.acos(e/(this.getMagnitude()*t.getMagnitude()))},this.crossProduct=function(e){return new t(this.y*e.z-this.z*e.y,this.z*e.x-this.x*e.z,this.x*e.y-this.y*e.x)},this.normalize=function(){var t=this.getMagnitude();this.x/=t,this.y/=t,this.z/=t},this.getMagnitude=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t&&t.__esModule?t:{default:t}}(i(0));e.default={name:"chart.draw",extend:null,component:function(){var t=n.default.include("util.base"),e=function(){this.render=function(){if(!t.typeCheck("function",this.draw))throw new Error("JUI_CRITICAL_ERR: 'draw' method must be implemented");t.typeCheck("function",this.drawBefore)&&this.drawBefore();var e=this.draw();t.typeCheck("function",this.drawAnimate)&&(!1!==(this.grid||this.brush||this.widget||this.map).animate&&this.drawAnimate(e));return t.typeCheck("function",this.drawAfter)&&this.drawAfter(e),e},this.format=function(){return((this.grid||this.brush||this.widget).format||this.chart.format).apply(this.chart,arguments)},this.balloonPoints=function(t,e,i,n){var r=[];return"top"==t?(r.push([0,0].join(",")),r.push([e,0].join(",")),r.push([e,i].join(",")),r.push([e/2+n/2,i].join(",")),r.push([e/2,i+n].join(",")),r.push([e/2-n/2,i].join(",")),r.push([0,i].join(",")),r.push([0,0].join(","))):"bottom"==t?(r.push([0,n].join(",")),r.push([e/2-n/2,n].join(",")),r.push([e/2,0].join(",")),r.push([e/2+n/2,n].join(",")),r.push([e,n].join(",")),r.push([e,n+i].join(",")),r.push([0,n+i].join(",")),r.push([0,n].join(","))):"left"==t?(r.push([0,0].join(",")),r.push([e,0].join(",")),r.push([e,i/2-n/2].join(",")),r.push([e+n,i/2].join(",")),r.push([e,i/2+n/2].join(",")),r.push([e,i].join(",")),r.push([0,i].join(",")),r.push([0,0].join(","))):"right"==t?(r.push([0,0].join(",")),r.push([e,0].join(",")),r.push([e,i].join(",")),r.push([0,i].join(",")),r.push([0,i/2+n/2].join(",")),r.push([0-n,i/2].join(",")),r.push([0,i/2-n/2].join(",")),r.push([0,0].join(","))):(r.push([0,0].join(",")),r.push([e,0].join(",")),r.push([e,i].join(",")),r.push([0,i].join(",")),r.push([0,0].join(","))),r.join(" ")},this.on=function(e,i){var n=this;return this.chart.on(e,function(){if(t.startsWith(e,"axis.")&&t.typeCheck("integer",n.axis.index)){var r=n.chart.axis(n.axis.index),a=arguments[0];t.typeCheck("object",r)&&arguments[1]==n.axis.index&&i.apply(n,[a])}else i.apply(n,arguments)},"render")},this.calculate3d=function(){var e=this.axis.area("width"),i=this.axis.area("height"),n=this.axis.area("x"),r=this.axis.area("y"),a=this.axis.depth,o=this.axis.degree,s=this.axis.perspective,h=arguments;t.typeCheck("integer",o.x)||(o.x=0),t.typeCheck("integer",o.y)||(o.y=0),t.typeCheck("integer",o.z)||(o.z=0);for(var u=0;u<h.length;u++)h[u].perspective=s,h[u].rotate(Math.max(e,i,a),o,n+e/2,r+i/2,a/2)}};return e.setup=function(){return{type:null,animate:!1}},e}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t&&t.__esModule?t:{default:t}}(i(0));e.default={name:"chart.map",extend:null,component:function(){var t=n.default.include("util.base"),e=n.default.include("util.dom"),i=(n.default.include("util.math"),n.default.include("util.svg")),r=function(){var n=this,r={},a=null,o={},s=1,h=0,u=0;function l(e){for(var r=[],a=0,o=e.length;a<o;a++)if(t.typeCheck("object",e[a])){var s={};t.typeCheck("string",e[a].style)&&(s=u(e[a].style),delete e[a].style);var h=i.createObject({type:null!=e[a].d?"path":"polygon",attr:e[a]});h.attr(t.extend(s,{fill:n.chart.theme("mapPathBackgroundColor"),"fill-opacity":n.chart.theme("mapPathBackgroundOpacity"),stroke:n.chart.theme("mapPathBorderColor"),"stroke-width":n.chart.theme("mapPathBorderWidth"),"stroke-opacity":n.chart.theme("mapPathBorderOpacity")})),r.push({path:h,data:e[a]})}function u(e){for(var i={},n=e.split(";"),r=0;r<n.length;r++)if(-1!=n[r].indexOf(":")){var a=n[r].split(":");i[t.trim(a[0])]=t.trim(a[1])}return i}return r}function c(e){if(t.typeCheck("string",e.id)){for(var i=[],n=e.childNodes,r=0,a=n.length;r<a;r++){var o=n[r],s=o.nodeName.toLowerCase();if(1==o.nodeType)if("g"==s)i=i.concat(c(o));else if("path"==s||"polygon"==s){var h={group:e.id};for(var u in o.attributes){var l=o.attributes[u];l.specified&&d(l.name)&&(h[l.name]=f(l))}t.typeCheck("string",h.id)&&t.extend(h,p(h.id)),i.push(h)}}return i}}function d(t){return"group"==t||"id"==t||"title"==t||"x"==t||"y"==t||"d"==t||"points"==t||"class"==t||"style"==t}function f(t){return"x"==t.name||"y"==t.name?parseFloat(t.value):t.value}function p(t){for(var e=n.axis.data,i=0;i<e.length;i++){if(n.axis.getValue(e[i],"id",null)==t)return e[i]}return null}function g(){for(var e=n.chart.svg.group(),i=function(e){return t.typeCheck("array",r[e])?l(r[e]):(r[e]=[],t.ajax({url:e,async:!1,success:function(i){var a=i.responseXML,o=a.getElementsByTagName("svg"),s=a.getElementsByTagName("style");if(1==o.length){for(var h=o[0].childNodes,u=0,l=h.length;u<l;u++){var g=h[u],v=g.nodeName.toLowerCase();if(1==g.nodeType)if("g"==v)r[e]=r[e].concat(c(g));else if("path"==v||"polygon"==v){var m={};for(var y in g.attributes){var x=g.attributes[y];x.specified&&d(x.name)&&(m[x.name]=f(x))}t.typeCheck("string",m.id)&&t.extend(m,p(m.id)),r[e].push(m)}}for(u=0;u<s.length;u++)n.svg.root.element.appendChild(s[u])}},fail:function(t){throw new Error("JUI_CRITICAL_ERR: Failed to load resource")}}),l(r[e]))}(n.map.path),a=0,s=i.length;a<s;a++){var h=i[a].path,u=i[a].data;e.append(h),t.typeCheck("string",u.id)&&(o[u.id]=i[a])}return e}function v(){var t=n.map.width,e=n.map.height;return{x:(t*s-t)/2+h,y:(e*s-e)/2+u}}this.scale=function(e){if(t.typeCheck("string",e)){var i=null,r=null,a=null,h=null,u=v();if(t.typeCheck("object",o[e])){if(a=o[e].path,null!=(h=o[e].data).x){var l=n.axis.getValue(h,"dx",0);i=(parseFloat(h.x)+l)*s-u.x}if(null!=h.y){var c=n.axis.getValue(h,"dy",0);r=(parseFloat(h.y)+c)*s-u.y}}return{x:i,y:r,path:a,data:h}}},this.scale.each=function(t){for(var e in o)t.apply(this,[e,o[e]])},this.scale.size=function(){return{width:n.map.width,height:n.map.height}},this.scale.scale=function(t){return!t||t<0?s:(s=t,a.scale(s),this.view(h,u),s)},this.scale.view=function(e,i){var n={x:h,y:u};if(!t.typeCheck("number",e)||!t.typeCheck("number",i))return n;h=e,u=i;var r=v();return a.translate(-r.x,-r.y),{x:h,y:u}},this.draw=function(){var t=this.chart.svg.group();return s=this.map.scale,h=this.map.viewX,u=this.map.viewY,a=g(),t.append(a),1!=this.map.scale&&this.scale.scale(s),0==this.map.viewX&&0==this.map.viewY||this.scale.view(h,u),this.map.hide&&t.attr({visibility:"hidden"}),{root:t,scale:this.scale}},this.drawAfter=function(t){t.root.attr({"clip-path":"url(#"+this.axis.get("clipRectId")+")"}),setTimeout(function(){n.scale.each(function(t,i){!function(t,i){var r=n.chart;function a(t){var i=e.offset(r.root),n=t.pageX-i.left,a=t.pageY-i.top;t.bgX=n,t.bgY=a,t.chartX=n-r.padding("left"),t.chartY=a-r.padding("top")}t.on("click",function(t){a(t),r.emit("map.click",[i,t])}),t.on("dblclick",function(t){a(t),r.emit("map.dblclick",[i,t])}),t.on("contextmenu",function(t){a(t),r.emit("map.rclick",[i,t]),t.preventDefault()}),t.on("mouseover",function(t){a(t),r.emit("map.mouseover",[i,t])}),t.on("mouseout",function(t){a(t),r.emit("map.mouseout",[i,t])}),t.on("mousemove",function(t){a(t),r.emit("map.mousemove",[i,t])}),t.on("mousedown",function(t){a(t),r.emit("map.mousedown",[i,t])}),t.on("mouseup",function(t){a(t),r.emit("map.mouseup",[i,t])})}(i.path,i)})},1)}};return r.setup=function(){return{scale:1,viewX:0,viewY:0,hide:!1,path:"",width:-1,height:-1}},r}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t&&t.__esModule?t:{default:t}}(i(0));e.default={name:"chart.plane",extend:"core",component:function(){var t=n.default.include("util.base"),e=n.default.include("chart.builder"),i=function(){var i=null,n=[],r=[],a=[],o=0,s={},h={};this.init=function(){var e=this.options,i={type:"range",step:e.step,line:e.line};s.x=t.extend({domain:e.x},i),s.y=t.extend({domain:e.y},i),s.x.orient="bottom",s.y.orient="left",s.z=t.extend({domain:e.z},i),s.depth=e.depth-2*e.padding,s.degree={x:e.dx,y:e.dy,z:e.dz},s.perspective=e.perspective,h.extend=0,h.x={hide:!0},h.y={hide:!0},h.z={hide:!0},"2d"==e.dimension&&(s.perspective=1,s.degree.x=0,s.degree.y=0,s.degree.z=0,s.z.hideText=!0)},this.push=function(e){t.typeCheck("array",e)&&(n[o]||n.push(t.extend({},0==o?s:h)),n[o].data||(n[o].data=[]),n[o].data.push(e))},this.commit=function(t,e){var i=this.options;r.push({type:"canvas.dot3d",color:o,axis:o,symbol:t||i.symbol,size:2*(e||i.r)}),o++},this.append=function(e,i,a){var u=this.options;n.push(t.extend({},0==o?s:h)),n[o].data=e,r.push({type:"canvas.dot3d",color:o,axis:o,symbol:i||u.symbol,size:2*(a||u.r)}),o++},this.render=function(){var h=this.options;if("3d"==h.dimension&&a.push({type:"polygon.rotate3d"}),null!=i&&(i.root.innerHTML="",i=null),0==n.length&&n.push(s),i=e(this.root,{padding:h.padding,width:h.width,height:h.height,axis:n,brush:r,widget:a,canvas:!0,render:!1,style:{gridFaceBackgroundOpacity:.1}}),t.typeCheck("array",h.colors)){for(var u=[],l=0;l<h.colors.length;l++)u.push(i.color(h.colors[l]));i.setTheme({colors:u})}n=[],r=[],a=[],o=0,i.render()}};return i.setup=function(){return{dimension:"2d",width:500,height:500,depth:500,padding:50,x:[-100,100],y:[-100,100],z:[-100,100],step:4,line:!0,symbol:"dot",r:2,perspective:.9,dx:10,dy:5,dz:0,colors:null}},i}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(i(0)),r=a(i(11));function a(t){return t&&t.__esModule?t:{default:t}}e.default={name:"chart.animation",extend:"core",component:function(){var t=n.default.include("util.base"),e=n.default.include("chart.builder"),i=function(){var t=void 0,i=-1,n=0,r=0;this.init=function(){var i=this.options;if(t=i.interval,delete i.interval,i.axis.length&&i.axis.length>1)throw new Error("JUI_CRITICAL_ERR: the real-time module allows only a single axes");this.builder=e(this.selector,i)},this.run=function(e){var a=this,o=Date.now();if(0==r&&(r=o),o-n>t||0==t){var s=(o-n)/1e3;s>1&&(s=1),this.builder.setCache("tpf",s),this.builder.setCache("fps",1/s),"function"==typeof e&&e.call(this,o-r),this.render(),n=o}i=requestAnimationFrame(function(){a.run(e)})},this.stop=function(){-1!=i&&(cancelAnimationFrame(i),i=-1)},this.set=function(t,e,i){this.builder.axis(0).set(t,e,i)},this.update=function(t){this.builder.axis(0).update(t)},this.render=function(t){this.builder.render(t)}};return i.setup=function(){return t.extend({render:!1,canvas:!0,interval:0},r.default.component().setup(),!0)},i}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t&&t.__esModule?t:{default:t}}(i(0));e.default={name:"chart.polygon.core",extend:null,component:function(){var t=n.default.include("util.base"),e=n.default.include("chart.vector"),i=n.default.include("util.transform"),r=n.default.include("util.math");return function(){this.perspective=.9,this.rotate=function(n,a,o,s,h){var u=this.perspective,l=new i(this.vertices),c=l.matrix("move3d",o,s,h);c=r.matrix3d(c,l.matrix("rotate3dx",a.x)),c=r.matrix3d(c,l.matrix("rotate3dy",a.y)),c=r.matrix3d(c,l.matrix("rotate3dz",a.z)),c=r.matrix3d(c,l.matrix("move3d",-o,-s,-h)),this.vertices=l.custom(c);for(var d=0,f=this.vertices.length;d<f;d++){var p=Math.abs(this.vertices[d][2]-n),g=r.scaleValue(p,0,n,u,1),v=new i,m=v.matrix("move3d",o,s,n/2);m=r.matrix3d(m,v.matrix("scale3d",g,g,g)),m=r.matrix3d(m,v.matrix("move3d",-o,-s,-n/2)),this.vertices[d]=r.matrix3d(m,this.vertices[d]),t.typeCheck("array",this.vectors)&&(null==this.vectors[d]?this.vectors[d]=new e(this.vertices[d][0],this.vertices[d][1],this.vertices[d][2]):(this.vectors[d].x=this.vertices[d][0],this.vectors[d].y=this.vertices[d][1],this.vectors[d].z=this.vertices[d][2]))}},this.min=function(){for(var t={x:this.vertices[0][0],y:this.vertices[0][1],z:this.vertices[0][2]},e=1,i=this.vertices.length;e<i;e++)t.x=Math.min(t.x,this.vertices[e][0]),t.y=Math.min(t.y,this.vertices[e][1]),t.z=Math.min(t.z,this.vertices[e][2]);return t},this.max=function(){for(var t={x:this.vertices[0][0],y:this.vertices[0][1],z:this.vertices[0][2]},e=1,i=this.vertices.length;e<i;e++)t.x=Math.max(t.x,this.vertices[e][0]),t.y=Math.max(t.y,this.vertices[e][1]),t.z=Math.max(t.z,this.vertices[e][2]);return t}}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"chart.polygon.grid",extend:"chart.polygon.core",component:function(){return function(t,e,i,n,r,a){e=(r=r||0)+e,i=(a=a||0)+i;var o={center:[new Float32Array([r,a,n,1]),new Float32Array([e,a,n,1]),new Float32Array([e,i,n,1]),new Float32Array([r,i,n,1])],horizontal:[new Float32Array([r,i,0,1]),new Float32Array([e,i,0,1]),new Float32Array([e,i,n,1]),new Float32Array([r,i,n,1])],vertical:[new Float32Array([e,a,0,1]),new Float32Array([e,i,0,1]),new Float32Array([e,i,n,1]),new Float32Array([e,a,n,1])]};this.vertices=o[t],this.vectors=[]}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"chart.polygon.line",extend:"chart.polygon.core",component:function(){return function(t,e,i,n,r,a){this.vertices=[new Float32Array([t,e,i,1]),new Float32Array([n,r,a,1])],this.vectors=[]}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"chart.polygon.point",extend:"chart.polygon.core",component:function(){return function(t,e,i){this.vertices=[new Float32Array([t,e,i,1])],this.vectors=[]}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"chart.polygon.cube",extend:"chart.polygon.core",component:function(){return function(t,e,i,n,r,a){this.vertices=[new Float32Array([t,e,i,1]),new Float32Array([t+n,e,i,1]),new Float32Array([t+n,e,i+a,1]),new Float32Array([t,e,i+a,1]),new Float32Array([t,e+r,i,1]),new Float32Array([t+n,e+r,i,1]),new Float32Array([t+n,e+r,i+a,1]),new Float32Array([t,e+r,i+a,1])],this.faces=[[0,1,2,3],[3,2,6,7],[0,3,7,4],[1,2,6,5],[0,1,5,4],[4,5,6,7]],this.vectors=[]}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t&&t.__esModule?t:{default:t}}(i(0));e.default={name:"chart.grid.draw2d",extend:"chart.draw",component:function(){var t=n.default.include("util.base");return function(){this.createGridX=function(t,e,i,n,r){var a=this.getLineOption(),o=this.chart.svg.group().translate(i,0),s=this.chart.theme("gridTickBorderSize");return o.append(this.line({y2:"bottom"==t?s:-s,stroke:this.color(n,"gridActiveBorderColor","gridXAxisBorderColor"),"stroke-width":this.chart.theme("gridTickBorderWidth")})),a&&this.drawValueLine(t,o,n,a,e,r),o},this.createGridY=function(t,e,i,n,r){var a=this.getLineOption(),o=this.chart.svg.group().translate(0,i),s=this.chart.theme("gridTickBorderSize");return o.append(this.line({x2:"left"==t?-s:s,stroke:this.color(n,"gridActiveBorderColor","gridYAxisBorderColor"),"stroke-width":this.chart.theme("gridTickBorderWidth")})),a&&this.drawValueLine(t,o,n,a,e,r),o},this.fillRectObject=function(t,e,i,n,r,a,o){e.type.indexOf("gradient")>-1?t.append(this.chart.svg.rect({x:n,y:r,height:o,width:a,fill:this.chart.color(e.fill?e.fill:"linear("+i+") "+this.chart.theme("gridPatternColor")+",0.5 "+this.chart.theme("backgroundColor")),"fill-opacity":this.chart.theme("gridPatternOpacity")})):e.type.indexOf("rect")>-1&&t.append(this.chart.svg.rect({x:n,y:r,height:o,width:a,fill:this.chart.color(e.fill?e.fill:this.chart.theme("gridPatternColor")),"fill-opacity":this.chart.theme("gridPatternOpacity")}))},this.drawAxisLine=function(e,i,n){var r="top"==e||"bottom"==e;i.append(this.chart.svg.line(t.extend({x1:0,y1:0,x2:0,y2:0,stroke:this.color(r?"gridXAxisBorderColor":"gridYAxisBorderColor"),"stroke-width":this.chart.theme(r?"gridXAxisBorderWidth":"gridYAxisBorderWidth"),"stroke-opacity":1},n)))},this.drawPattern=function(t,e,i,n){if(!this.grid.hide&&t&&e&&i){var r=this.getLineOption(),a="left"==t||"right"==t,o=this.chart.svg.group();if(o.translate(this.axis.area("x")+this.chart.area("x"),this.axis.area("y")+this.chart.area("y")),r&&(r.type.indexOf("gradient")>-1||r.type.indexOf("rect")>-1))for(var s=0;s<i.length-1;s+=2){var h=Math.abs(i[s+1]-i[s]),u=i[s]-(n?h/2:0),l=a?0:u,c=a?u:0,d=a?this.axis.area("width"):h,f=a?h:this.axis.area("height");this.fillRectObject(o,r,t,l,c,d,f)}}},this.drawBaseLine=function(t,e){var i=this.getGridSize(),n={};"bottom"==t||"top"==t?n={x1:i.start,x2:i.end}:"left"!=t&&"right"!=t||(n={y1:i.start,y2:i.end}),this.drawAxisLine(t,e,n)},this.drawValueLine=function(e,i,n,r,a,o){var s={},h=!1;if("top"==e?(h=this.checkDrawLineY(a,o),s={x1:0,x2:0,y1:0,y2:this.axis.area("height")}):"bottom"==e?(h=this.checkDrawLineY(a,o),s={x1:0,x2:0,y1:0,y2:-this.axis.area("height")}):"left"==e?(h=this.checkDrawLineX(a,o),s={x1:0,x2:this.axis.area("width"),y1:0,y2:0}):"right"==e&&(h=this.checkDrawLineX(a,o),s={x1:0,x2:-this.axis.area("width"),y1:0,y2:0}),h){var u=this.line(t.extend({stroke:this.chart.theme(n,"gridActiveBorderColor","gridBorderColor"),"stroke-width":this.chart.theme(n,"gridActiveBorderWidth","gridBorderWidth")},s));if(r.type.indexOf("dashed")>-1){var l=this.chart.theme("gridBorderDashArray");u.attr({"stroke-dasharray":"none"!=l&&l?l:"3,3"})}i.append(u)}},this.drawValueText=function(t,e,i,n,r,a,o){this.grid.hideText||("top"==t?e.append(this.getTextRotate(this.chart.text({x:a,y:-(this.chart.theme("gridTickBorderSize")+2*this.chart.theme("gridTickPadding")),dy:this.chart.theme("gridXFontSize")/3,fill:this.chart.theme(o,"gridActiveFontColor","gridXFontColor"),"text-anchor":"middle","font-size":this.chart.theme("gridXFontSize"),"font-weight":this.chart.theme("gridXFontWeight")},r))):"bottom"==t?e.append(this.getTextRotate(this.chart.text({x:a,y:this.chart.theme("gridTickBorderSize")+2*this.chart.theme("gridTickPadding"),dy:this.chart.theme("gridXFontSize")/3,fill:this.chart.theme(o,"gridActiveFontColor","gridXFontColor"),"text-anchor":"middle","font-size":this.chart.theme("gridXFontSize"),"font-weight":this.chart.theme("gridXFontWeight")},r))):"left"==t?e.append(this.getTextRotate(this.chart.text({x:-this.chart.theme("gridTickBorderSize")-this.chart.theme("gridTickPadding"),y:a,dy:this.chart.theme("gridYFontSize")/3,fill:this.chart.theme(o,"gridActiveFontColor","gridYFontColor"),"text-anchor":"end","font-size":this.chart.theme("gridYFontSize"),"font-weight":this.chart.theme("gridYFontWeight")},r))):"right"==t&&e.append(this.getTextRotate(this.chart.text({x:this.chart.theme("gridTickBorderSize")+this.chart.theme("gridTickPadding"),y:a,dy:this.chart.theme("gridYFontSize")/3,fill:this.chart.theme(o,"gridActiveFontColor","gridYFontColor"),"text-anchor":"start","font-size":this.chart.theme("gridYFontSize"),"font-weight":this.chart.theme("gridYFontWeight")},r))))},this.drawImage=function(e,i,n,r,a,o){if(t.typeCheck("function",this.grid.image)){var s=this.grid.image.apply(this.chart,[n,r]);if(t.typeCheck("object",s)){var h=this.chart.svg.image({"xlink:href":s.uri,width:s.width,height:s.height});"top"==e||"bottom"==e?h.attr({x:"block"==this.grid.type?this.scale.rangeBand()/2-s.width/2:-s.width/2}):"left"!=e&&"right"!=e||h.attr({y:"block"==this.grid.type?this.scale.rangeBand()/2-s.height/2:-s.height/2}),"bottom"==e?h.attr({y:s.dist}):"top"==e?h.attr({y:-(s.dist+s.height)}):"left"==e?h.attr({x:-(s.dist+s.width)}):"right"==e&&h.attr({x:s.dist}),h.translate(a,o),i.append(h)}}}}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t&&t.__esModule?t:{default:t}}(i(0));e.default={name:"chart.grid.draw3d",extend:"chart.draw",component:function(){n.default.include("util.base");var t=n.default.include("chart.polygon.grid"),e=n.default.include("chart.polygon.line"),i=n.default.include("chart.polygon.point");return function(){this.createGridX=function(t,e,i,n,r){var a=this.getLineOption(),o=this.svg.group();return a&&this.drawValueLine(t,o,n,a,e,i,r),o},this.createGridY=function(t,e,i,n,r){var a=this.getLineOption(),o=this.svg.group();return a&&this.drawValueLine(t,o,n,a,e,i,r),o},this.drawCenter=function(t,e,i,n,r){var a=this.svg.group(),o=this.getLineOption();o&&this.drawValueLineCenter(a,e,o),this.drawValueTextCenter(a,e,i,n,r),t.append(a)},this.drawBaseLine=function(t,e){var i=this.svg.group();this.drawAxisLine(t,i),e.append(i)},this.drawAxisLine=function(e,i){var n="top"==e||"bottom"==e,r=n?"gridXAxisBorderColor":"gridYAxisBorderColor",a=n?"gridXAxisBorderWidth":"gridYAxisBorderWidth";"center"==e&&(r="gridZAxisBorderColor",a="gridZAxisBorderWidth");var o=this.svg.polygon({stroke:this.chart.theme(r),"stroke-width":this.chart.theme(a),"stroke-opacity":1,fill:this.chart.theme("gridFaceBackgroundColor"),"fill-opacity":this.chart.theme("gridFaceBackgroundOpacity")}),s=null,h=this.axis.area("width"),u=this.axis.area("height"),l=this.axis.area("x"),c=this.axis.area("y"),d=this.axis.depth;s="center"==e?new t("center",h,u,d,l,c):n?new t("horizontal",h,u="bottom"==e?u:0,d,l,c):new t("vertical",h="right"==e?h:0,u,d,l,c),this.calculate3d(s);for(var f=0;f<s.vectors.length;f++)o.point(s.vectors[f].x,s.vectors[f].y);"center"==e?!0!==this.axis.get("y").hide&&i.append(o):i.append(o)},this.drawValueLine=function(t,i,n,r,a,o,s){var h=!1,u=this.axis.area("width"),l=this.axis.area("height"),c=this.axis.area("x"),d=this.axis.area("y"),f=this.axis.depth,p=null,g=null;if("top"==t?(h=this.checkDrawLineY(a,s),p=new e(o,d,0,o,d,f),g=new e(o,d,f,o,d+l,f)):"bottom"==t?(h=this.checkDrawLineY(a,s),p=new e(o,d+l,0,o,d+l,f),g=new e(o,d+l,f,o,d,f)):"left"==t?(h=this.checkDrawLineX(a,s),p=new e(c,o,0,c,o,f),g=new e(c,o,f,c+u,o,f)):"right"==t&&(h=this.checkDrawLineX(a,s),p=new e(c+u,o,0,c+u,o,f),g=new e(c+u,o,f,c,o,f)),h){this.calculate3d(p,g);var v=this.line({stroke:this.chart.theme("gridBorderColor"),"stroke-width":this.chart.theme("gridBorderWidth"),x1:p.vectors[0].x,y1:p.vectors[0].y,x2:p.vectors[1].x,y2:p.vectors[1].y}),m=this.line({stroke:this.chart.theme("gridBorderColor"),"stroke-width":this.chart.theme("gridBorderWidth"),x1:g.vectors[0].x,y1:g.vectors[0].y,x2:g.vectors[1].x,y2:g.vectors[1].y});if(r.type.indexOf("dashed")>-1){var y=this.chart.theme("gridBorderDashArray"),x="none"!=y&&y?y:"3,3";v.attr({"stroke-dasharray":x}),m.attr({"stroke-dasharray":x})}i.append(v),!0!==this.axis.get("y").hide&&i.append(m)}},this.drawValueLineCenter=function(t,i,n){for(var r="block"!=this.grid.type?i.length-1:i.length,a=this.axis.area("width"),o=this.axis.area("height"),s=this.axis.area("x"),h=this.axis.area("y"),u=this.axis.depth,l="left"==this.axis.get("y").orient?0:a,c="top"==this.axis.get("x").orient?0:o,d=1;d<r;d++){var f=d*(u/r),p=new e(s,h+c,f,s+a,h+c,f),g=new e(s+l,h,f,s+l,h+o,f);this.calculate3d(p,g);var v=this.line({stroke:this.chart.theme("gridBorderColor"),"stroke-width":this.chart.theme("gridBorderWidth"),x1:p.vectors[0].x,y1:p.vectors[0].y,x2:p.vectors[1].x,y2:p.vectors[1].y}),m=this.line({stroke:this.chart.theme("gridBorderColor"),"stroke-width":this.chart.theme("gridBorderWidth"),x1:g.vectors[0].x,y1:g.vectors[0].y,x2:g.vectors[1].x,y2:g.vectors[1].y});if(n.type.indexOf("dashed")>-1){var y=this.chart.theme("gridBorderDashArray"),x="none"!=y&&y?y:"3,3";v.attr({"stroke-dasharray":x}),m.attr({"stroke-dasharray":x})}t.append(v),!0!==this.axis.get("y").hide&&t.append(m)}},this.drawValueText=function(t,e,n,r,a){if(!this.grid.hideText){var o="left"==t||"right"==t,s=this.chart.theme("gridTickBorderSize"),h=this.chart.theme("gridTickPadding"),u=this.axis.area("width"),l=this.axis.area("height"),c=this.axis.area("x"),d=this.axis.area("y"),f=0,p=0;"top"==t?(f=r,p=d+-(s+2*h)):"bottom"==t?(f=r,p=d+(l+s+2*h)):"left"==t?(f=c+-(s+h),p=r):"right"==t&&(f=c+(u+s+h),p=r);var g=new i(f,p,0);this.calculate3d(g),e.append(this.getTextRotate(this.chart.text({x:g.vectors[0].x,y:g.vectors[0].y,dx:o?0:this.chart.theme("gridXFontSize")/3,dy:o?this.chart.theme("gridYFontSize")/3:0,fill:this.chart.theme(o?"gridYFontColor":"gridXFontColor"),"text-anchor":o?"left"==t?"end":"start":"middle","font-size":this.chart.theme(o?"gridYFontSize":"gridXFontSize"),"font-weight":this.chart.theme(o?"gridYFontWeight":"gridXFontWeight")},a)))}},this.drawValueTextCenter=function(t,e,n,r,a){if(!this.grid.hideText)for(var o=this.chart.theme("gridTickBorderSize")+this.chart.theme("gridTickPadding"),s="left"==this.axis.get("y").orient,h="top"==this.axis.get("x").orient,u="block"!=this.grid.type?e.length-1:e.length,l=this.axis.area("width"),c=this.axis.area("height"),d=this.axis.depth,f=this.axis.area("x")+(s?l+o:-o),p=this.axis.area("y")+(h?-o:c+o),g=0;g<e.length;g++){var v=this.format(e[g],g),m=new i(f,p,g*(d/u)+a);this.calculate3d(m),t.append(this.getTextRotate(this.chart.text({x:m.vectors[0].x,y:m.vectors[0].y,fill:this.chart.theme("gridZFontColor"),"text-anchor":s?"start":"end","font-size":this.chart.theme("gridZFontSize"),"font-weight":this.chart.theme("gridZFontWeight")},v)))}},this.drawPattern=function(){},this.drawImage=function(){}}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(t){return t&&t.__esModule?t:{default:t}}(i(0));e.default={name:"chart.grid.core",extend:"chart.draw",component:function(){var t=r.default.include("util.base"),e=r.default.include("util.math"),i=r.default.include("chart.grid.draw2d"),a=r.default.include("chart.grid.draw3d"),o=function(){this.wrapper=function(t,e){return t},this.line=function(e){return this.chart.svg.line(t.extend({x1:0,y1:0,x2:0,y2:0,stroke:this.color("gridBorderColor"),"stroke-width":this.chart.theme("gridBorderWidth"),"stroke-dasharray":this.chart.theme("gridBorderDashArray"),"stroke-opacity":this.chart.theme("gridBorderOpacity")},e))},this.color=function(t){var e=this.grid.color;return 3==arguments.length?null!=e?this.chart.color(e):this.chart.theme.apply(this.chart,arguments):null!=e?this.chart.color(e):this.chart.theme(t)},this.data=function(t,e){return this.axis.data&&this.axis.data[t]?this.axis.data[t][e]||this.axis.data[t]:this.axis.data||[]},this.getGridSize=function(){var t=this.grid.orient,i=this.axis.depth,n=this.axis.degree,r="left"==t||"right"==t?this.axis.area("y"):this.axis.area("x"),a="left"==t||"right"==t?this.axis.area("height"):this.axis.area("width"),o={start:r,size:a,end:r+a};if(this.axis.isFull3D())"center"==t&&(o.start=0,o.size=i,o.end=i);else if(i>0||n>0){var s=e.radian(360-n),h=Math.cos(s)*i,u=Math.sin(s)*i;"left"==t?(o.start=o.start-u,o.size=o.size-u):"bottom"==t&&(o.end=o.end-h,o.size=o.size-h)}return o},this.getDefaultOffset=function(){var t=this.grid.orient,e=this.axis.area(),i=e.width,n=e.height,r="left"==t||"right"==t?e.y:e.x,a="left"==t||"right"==t?n:i;return{start:r,size:a,end:r+a}},this.getTextRotate=function(e){var i=this.grid.textRotate;if(null==i)return e;t.typeCheck("function",i)&&(i=i.apply(this.chart,[e]));var n=e.attr("x"),r=e.attr("y");return e.rotate(i,n,r),e},this.getLineOption=function(){var t=this.grid.line;return"string"==typeof t?t={type:t||"solid"}:"number"==typeof t?t={type:"solid","stroke-width":t}:"object"!==(void 0===t?"undefined":n(t))&&(t=!!t)&&(t={type:"solid"}),t&&"string"==!t.type&&(t.type=t.type.split(/ /g)),t},this.checkDrawLineY=function(t,e){var i=this.axis.get("y");if(!i.hide){if("left"==i.orient&&0==t&&!this.grid.realtime)return!1;if("right"==i.orient&&e)return!1}return!0},this.checkDrawLineX=function(t,e){var i=this.axis.get("x");if(!i.hide){if("top"==i.orient&&0==t)return!1;if("bottom"==i.orient&&e&&!this.grid.realtime)return!1}return!0},this.drawTop=function(e,i,n,r,a){for(var o=0,s=i.length;o<s;o++){var h=this.format(i[o],o),u=n[o]-a,l=o==s-1&&"block"!=this.grid.type,c=!1;if(this.drawImage("top",e,i[o],o,u,0),h||0===h){t.typeCheck("function",r)&&(c=r(i[o]));var d=this.createGridX("top",o,u,c,l);this.drawValueText("top",d,o,n[o],h,a,c),e.append(d)}}},this.drawBottom=function(e,i,n,r,a){for(var o=0,s=i.length;o<s;o++){var h=this.format(i[o],o),u=n[o]-a,l=o==s-1&&"block"!=this.grid.type,c=!1;if(this.drawImage("bottom",e,i[o],o,u,0),h||0===h){t.typeCheck("function",r)&&(c=r(i[o]));var d=this.createGridX("bottom",o,u,c,l);this.drawValueText("bottom",d,o,n[o],h,a,c),e.append(d)}}},this.drawLeft=function(e,i,n,r,a){for(var o=0,s=i.length;o<s;o++){var h=this.format(i[o],o),u=n[o]-a,l=o==s-1&&"block"!=this.grid.type,c=!1;if(this.drawImage("left",e,i[o],o,0,u),h||0===h){t.typeCheck("function",r)&&(c=r(i[o]));var d=this.createGridY("left",o,u,c,l);this.drawValueText("left",d,o,n[o],h,a,c),e.append(d)}}},this.drawRight=function(e,i,n,r,a){for(var o=0,s=i.length;o<s;o++){var h=this.format(i[o],o),u=n[o]-a,l=o==s-1&&"block"!=this.grid.type,c=!1;if(this.drawImage("right",e,i[o],o,0,u),h||0===h){t.typeCheck("function",r)&&(c=r(i[o]));var d=this.createGridY("right",o,u,c,l);this.drawValueText("right",d,o,n[o],h,a,c),e.append(d)}}},this.drawGrid=function(){var e=this.chart.svg.group(),n=this[this.grid.orient],r=this.axis.isFull3D()?a:i;return this.scale=this.wrapper(this.scale,this.grid.key),t.typeCheck("function",n)&&(r.call(this),n.call(this,e)),this.grid.hide&&e.attr({display:"none"}),{root:e,scale:this.scale}},this.drawAfter=function(t){t.root.attr({class:"grid-"+this.grid.type}),t.root.translate(this.chart.area("x"),this.chart.area("y"))}};return o.setup=function(){return{dist:0,orient:null,hide:!1,color:null,title:null,line:!1,format:null,image:null,textRotate:null}},o}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t&&t.__esModule?t:{default:t}}(i(0));e.default={name:"chart.grid.block",extend:"chart.grid.core",component:function(){var t=n.default.include("util.base"),e=n.default.include("util.scale"),i=function(){this.center=function(t){this.drawCenter(t,this.domain,this.points,null,this.half_band),this.drawBaseLine("center",t)},this.top=function(t){this.drawPattern("top",this.domain,this.points,!0),this.drawTop(t,this.domain,this.points,null,this.half_band),this.drawBaseLine("top",t),t.append(this.createGridX("top",this.domain.length,this.end,null,!0))},this.bottom=function(t){this.drawPattern("bottom",this.domain,this.points,!0),this.drawBottom(t,this.domain,this.points,null,this.half_band),this.drawBaseLine("bottom",t),t.append(this.createGridX("bottom",this.domain.length,this.end,null,!0))},this.left=function(t){this.drawPattern("left",this.domain,this.points,!0),this.drawLeft(t,this.domain,this.points,null,this.half_band),this.drawBaseLine("left",t),t.append(this.createGridY("left",this.domain.length,this.end,null,!0))},this.right=function(t){this.drawPattern("right",this.domain,this.points,!0),this.drawRight(t,this.domain,this.points,null,this.half_band),this.drawBaseLine("right",t),t.append(this.createGridY("right",this.domain.length,this.end,null,!0))},this.initDomain=function(){var e=[];if(t.typeCheck("string",this.grid.domain)){var i=this.grid.domain,n=this.data();if(this.grid.reverse)var r=n.length-1,a=0,o=-1;else r=0,a=n.length-1,o=1;for(var s=r;this.grid.reverse?s>=a:s<=a;s+=o)e.push(n[s][i])}else t.typeCheck("function",this.grid.domain)?e=this.grid.domain.call(this.chart):t.typeCheck("array",this.grid.domain)&&(e=this.grid.domain);return this.grid.reverse&&e.reverse(),e},this.wrapper=function(e,i){var n=e,r=this,a=r.domain.length,o=r.grid.reverse;return i?t.extend(function(t){return n("number"==typeof t&&i?r.axis.data[t][i]:o?a-t-1:t)},n):n},this.drawBefore=function(){var t=this.initDomain(),i=this.getGridSize(),n=[i.start,i.end];this.scale=e.ordinal().domain(t),this.scale.rangePoints(n),this.start=i.start,this.size=i.size,this.end=i.end,this.points=this.scale.range(),this.domain=this.scale.domain(),this.band=this.scale.rangeBand(),this.half_band=this.band/2,this.bar=6,this.reverse=this.grid.reverse},this.draw=function(){return this.drawGrid("block")}};return i.setup=function(){return{domain:null,reverse:!1,max:10,hideText:!1,key:null}},i}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t&&t.__esModule?t:{default:t}}(i(0));e.default={name:"chart.grid.date",extend:"chart.grid.core",component:function(){var t=n.default.include("util.base"),e=n.default.include("util.scale"),i=n.default.include("util.time"),r=function(){this.center=function(t){this.drawCenter(t,this.ticks,this.values,null,0),this.drawBaseLine("center",t)},this.top=function(t){this.drawPattern("top",this.ticks,this.values),this.drawTop(t,this.ticks,this.values,null,0),this.drawBaseLine("top",t)},this.bottom=function(t){this.drawPattern("bottom",this.ticks,this.values),this.drawBottom(t,this.ticks,this.values,null,0),this.drawBaseLine("bottom",t)},this.left=function(t){this.drawPattern("left",this.ticks,this.values),this.drawLeft(t,this.ticks,this.values,null,0),this.drawBaseLine("left",t)},this.right=function(t){this.drawPattern("right",this.ticks,this.values),this.drawRight(t,this.ticks,this.values,null,0),this.drawBaseLine("right",t)},this.wrapper=function(e,i){var n=e,r=this;return i?t.extend(function(t){return n("number"==typeof t?r.axis.data[t][i]:+t)},n):n},this.initDomain=function(){var e=[],i=[],n=this.grid.min||void 0,r=this.grid.max||void 0,a=this.data(),o=[];if(t.typeCheck("string",this.grid.domain)){if(a.length>0){var s=this.grid.domain;o.push(+a[0][s]),o.push(+a[a.length-1][s])}}else if(t.typeCheck("function",this.grid.domain))for(var h=a.length;h--;){var u=this.grid.domain.call(this.chart,a[h]);t.typeCheck("array",u)?(o[h]=Math.max.apply(Math,u),o.push(Math.min.apply(Math,u))):o[h]=u}else o=this.grid.domain;return t.typeCheck("undefined",n)&&o.length>0&&(n=Math.min.apply(Math,o)),t.typeCheck("undefined",r)&&o.length>0&&(r=Math.max.apply(Math,o)),e=[n,r],i=this.grid.interval,this.grid.reverse&&e.reverse(),t.typeCheck("function",i)?this.interval=i.call(this.chart,e):this.interval=i,e},this.drawBefore=function(){var t=this.initDomain(),n=this.getGridSize(),r=[n.start,n.end];if(this.scale=e.time().domain(t).range(r),this.scale.clamp(this.grid.clamp),this.ticks=[],null!=this.grid.realtime&&i[this.grid.realtime]==this.grid.realtime)var a=this.scale.realTicks(this.grid.realtime,this.interval);else a=this.scale.ticks("milliseconds",this.interval);"string"==typeof this.grid.format&&function(t,e){t.format=function(t){return i.format(t,e)}}(this.grid,this.grid.format),this.start=n.start,this.size=n.size,this.end=n.end,this.bar=6,this.values=[];for(var o=0,s=a.length;o<s;o++){var h=this.scale(a[o]);h>=n.start&&h<=n.end&&(this.values.push(h),this.ticks.push(a[o]))}},this.draw=function(){return this.drawGrid("date")}};return r.setup=function(){return{domain:null,interval:1e3,min:null,max:null,reverse:!1,key:null,realtime:null,hideText:!1}},r}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t&&t.__esModule?t:{default:t}}(i(0));e.default={name:"chart.grid.dateblock",extend:"chart.grid.date",component:function(){var t=n.default.include("util.base"),e=n.default.include("util.scale"),i=n.default.include("util.time");return function(){this.wrapper=function(t,e){var i=t,n=this;return i.rangeBand=function(){return n.grid.unit},i},this.initDomain=function(){var e=[],i=[],n=this.grid.min||void 0,r=this.grid.max||void 0,a=this.data(),o=[];if(t.typeCheck("string",this.grid.domain)){var s=this.grid.domain;o.push(+a[0][s]),o.push(+a[a.length-1][s])}else if(t.typeCheck("function",this.grid.domain))for(var h=a.length;h--;){var u=this.grid.domain.call(this.chart,a[h]);t.typeCheck("array",u)?(o[h]=+Math.max.apply(Math,u),o.push(+Math.min.apply(Math,u))):o[h]=+u}else o=this.grid.domain;return t.typeCheck("undefined",n)&&(n=Math.min.apply(Math,o)),t.typeCheck("undefined",r)&&(r=Math.max.apply(Math,o)),e=[n,r],i=this.grid.interval,this.grid.reverse&&e.reverse(),t.typeCheck("function",i)?e.interval=i.call(this.chart,e):e.interval=i,e},this.drawBefore=function(){var n=this.initDomain(),r=this.getGridSize(),a=[r.start,r.end],o=e.time().domain(n).rangeRound(a);null!=this.grid.realtime&&i[this.grid.realtime]==this.grid.realtime?this.ticks=o.realTicks(this.grid.realtime,n.interval):this.ticks=o.ticks("milliseconds",n.interval);var s=this.axis.data.length-1,h=this.grid.unit=Math.abs(a[0]-a[1])/s;"string"==typeof this.grid.format&&function(t,e){t.format=function(t){return i.format(t,e)}}(this.grid,this.grid.format),this.start=r.start,this.size=r.size,this.end=r.end,this.bar=6,this.values=[];var u=0;for(s=this.ticks.length;u<s;u++)this.values[u]=o(this.ticks[u]);var l=this;this.scale=t.extend(function(t){return l.start+t*h},o)},this.draw=function(){return this.drawGrid("dateblock")}}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t&&t.__esModule?t:{default:t}}(i(0));e.default={name:"chart.grid.fullblock",extend:"chart.grid.core",component:function(){var t=n.default.include("util.base"),e=n.default.include("util.scale"),i=function(){this.center=function(t){this.drawCenter(t,this.domain,this.points,null,0),this.drawBaseLine("center",t)},this.top=function(t){this.drawPattern("top",this.domain,this.points),this.drawTop(t,this.domain,this.points,null,0),this.drawBaseLine("top",t)},this.bottom=function(t){this.drawPattern("bottom",this.domain,this.points),this.drawBottom(t,this.domain,this.points,null,0),this.drawBaseLine("bottom",t)},this.left=function(t){this.drawPattern("left",this.domain,this.points),this.drawLeft(t,this.domain,this.points,null,0),this.drawBaseLine("left",t)},this.right=function(t){this.drawPattern("right",this.domain,this.points),this.drawRight(t,this.domain,this.points,null,0),this.drawBaseLine("right",t)},this.initDomain=function(){var e=[];if(t.typeCheck("string",this.grid.domain)){var i=this.grid.domain,n=this.data();if(this.grid.reverse)var r=n.length-1,a=0,o=-1;else r=0,a=n.length-1,o=1;for(var s=r;this.grid.reverse?s>=a:s<=a;s+=o)e.push(n[s][i])}else t.typeCheck("function",this.grid.domain)?e=this.grid.domain.call(this.chart):t.typeCheck("array",this.grid.domain)&&(e=this.grid.domain);return this.grid.reverse&&e.reverse(),e},this.wrapper=function(e,i){var n=e,r=this,a=r.domain.length,o=r.grid.reverse;return i?t.extend(function(t){return n("number"==typeof t&&i?r.axis.data[t][i]:o?a-t:t)},n):n},this.drawBefore=function(){var t=this.initDomain(),i=this.getGridSize();this.scale=e.ordinal().domain(t);var n=[i.start,i.end];this.scale.rangeBands(n),this.start=i.start,this.size=i.size,this.end=i.end,this.points=this.scale.range(),this.domain=this.scale.domain(),this.band=this.scale.rangeBand(),this.half_band=0,this.bar=6,this.reverse=this.grid.reverse},this.draw=function(){return this.drawGrid("fullblock")}};return i.setup=function(){return{domain:null,reverse:!1,max:10,hideText:!1}},i}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t&&t.__esModule?t:{default:t}}(i(0));e.default={name:"chart.grid.radar",extend:"chart.grid.core",component:function(){var t=n.default.include("util.base"),e=n.default.include("util.math"),i=function(){var i=this,n=[];function r(t,e,n,r,a,o){var s=Math.abs(a),h=e,u=n;t.append(i.chart.svg.circle({cx:h,cy:u,r:s,"fill-opacity":0,stroke:i.color("gridBorderColor"),"stroke-width":i.chart.theme("gridBorderWidth")}))}function a(t,n,r,a,o,s,h){var u=i.chart.svg.group(),l=[];l.push([n+a,r+o]);for(var c=a,d=o,f=0;f<s;f++){var p=e.rotate(c,d,h);c=p.x,d=p.y,l.push([n+p.x,r+p.y])}var g=i.chart.svg.path({fill:"none",stroke:i.color("gridBorderColor"),"stroke-width":i.chart.theme("gridBorderWidth")});for(f=0;f<l.length;f++){var v=l[f];0==f?g.MoveTo(v[0],v[1]):g.LineTo(v[0],v[1])}g.LineTo(l[0][0],l[0][1]),u.append(g),t.append(u)}function o(t){var n=i.grid.max,r=i.chart.padding("left"),a=i.chart.padding("top");return function(o,s){var h=s/n,u=(Math.abs(t.y1)-Math.abs(t.y2))*h,l=2*Math.PI/i.domain.length,c=t.x1,d=t.y1,f=-u,p=e.rotate(0,f,l*o);return{x:r+c+p.x,y:a+d+p.y}}}this.initDomain=function(){var e=[];if(t.typeCheck("string",this.grid.domain)){var i=this.grid.domain,n=this.data();if(this.grid.reverse)var r=n.length-1,a=0,o=-1;else r=0,a=n.length-1,o=1;for(var s=r;this.grid.reverse?s>=a:s<=a;s+=o)e.push(n[s][i])}else e=t.typeCheck("function",this.grid.domain)?this.grid.domain(this.chart,this.grid):this.grid.domain;return this.grid.reverse&&e.reverse(),e},this.drawBefore=function(){this.domain=this.initDomain()},this.draw=function(){var t=this.axis.area("width"),i=this.axis.area("height"),s=t;i<s&&(s=i);var h=s/2,u=this.axis.area("x")+t/2,l=this.axis.area("y")+i/2,c=-h,d=0,f=this.domain.length,p=this.grid.step,g=2*Math.PI/f,v=Math.abs(c)/p,m=this.chart.svg.group(),y=this.chart.svg.group();m.append(y),n=[];for(var x=0;x<f;x++){var w=u+d,b=l+c;y.append(this.chart.svg.line({x1:u,y1:l,x2:w,y2:b,stroke:this.color("gridAxisBorderColor"),"stroke-width":this.chart.theme("gridBorderWidth")})),n[x]={x1:u,y1:l,x2:w,y2:b};var M=b,k=w,C="middle";b>l?M=b+20:b<l&&(M=b-10),w>u?(C="start",k+=10):w<u&&(C="end",k-=10),this.grid.hideText||y.append(this.chart.text({x:k,y:M,"text-anchor":C,"font-size":this.chart.theme("gridCFontSize"),"font-weight":this.chart.theme("gridCFontWeight"),fill:this.chart.theme("gridCFontColor")},this.domain[x]));var _=e.rotate(d,c,g);d=_.x,c=_.y}if(!this.grid.line)return{root:y,scale:o(n[0])};c=-h;var T=0,A=this.grid.max/this.grid.step;for(x=0;x<p;x++)0==x&&this.grid.extra?c+=v:("circle"==this.grid.shape?r(y,u,l,0,c):a(y,u,l,0,c,f,g),this.grid.hideText||y.append(this.chart.text({x:u,y:l+(c+v-5),"font-size":this.chart.theme("gridCFontSize"),"font-weight":this.chart.theme("gridCFontWeight"),fill:this.chart.theme("gridCFontColor")},this.grid.max-T+"")),c+=v,T+=A);return this.grid.hide&&y.attr({display:"none"}),{root:y,scale:o(n[0])}}};return i.setup=function(){return{domain:null,reverse:!1,max:100,step:10,line:!0,hideText:!1,extra:!1,shape:"radial"}},i}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t&&t.__esModule?t:{default:t}}(i(0));e.default={name:"chart.grid.range",extend:"chart.grid.core",component:function(){var t=n.default.include("util.base"),e=n.default.include("util.math"),i=n.default.include("util.scale"),r=function(){this.center=function(t){var e=this.scale.min(),i=this.scale.max();this.drawCenter(t,this.ticks,this.values,function(t){return 0==t&&t!=e&&t!=i},0),this.drawBaseLine("center",t)},this.top=function(t){this.drawPattern("top",this.ticks,this.values);var e=this.scale.min(),i=this.scale.max();this.drawTop(t,this.ticks,this.values,function(t){return 0==t&&t!=e&&t!=i},0),this.drawBaseLine("top",t)},this.bottom=function(t){this.drawPattern("bottom",this.ticks,this.values);var e=this.scale.min(),i=this.scale.max();this.drawBottom(t,this.ticks,this.values,function(t){return 0==t&&t!=e&&t!=i},0),this.drawBaseLine("bottom",t)},this.left=function(t){this.drawPattern("left",this.ticks,this.values);var e=this.scale.min(),i=this.scale.max();this.drawLeft(t,this.ticks,this.values,function(t){return 0==t&&t!=e&&t!=i},0),this.drawBaseLine("left",t)},this.right=function(t){this.drawPattern("right",this.ticks,this.values);var e=this.scale.min(),i=this.scale.max();this.drawRight(t,this.ticks,this.values,function(t){return 0==t&&t!=e&&t!=i},0),this.drawBaseLine("right",t)},this.wrapper=function(e,i){var n=e,r=this;return i?t.extend(function(t){return n(r.axis.data[t][i])},n):n},this.initDomain=function(){var i=[],n=this.grid.min||void 0,r=this.grid.max||void 0,a=this.data(),o=[],s=!1;if(t.typeCheck("string",this.grid.domain)){var h=this.grid.domain;o=new Array(a.length);for(var u=a.length;u--;){var l=a[u][h];t.typeCheck("array",l)?(o[u]=Math.max(l),o.push(Math.min(l))):(o[u]=l,o.push(0))}}else if(t.typeCheck("function",this.grid.domain)){o=new Array(a.length);var c=!1;for(u=a.length;u--;){l=this.grid.domain.call(this.chart,a[u]);t.typeCheck("array",l)?(o[u]=Math.max.apply(Math,l),o.push(Math.min.apply(Math,l))):(o[u]=l,c||(o.push(0),c=!0))}}else o=this.grid.domain,s=!0;var d,f=Math.min.apply(Math,o),p=Math.max.apply(Math,o);s?(n=f,r=p):((void 0===n||n>f)&&(n=f),(void 0===r||r<p)&&(r=p));if(t.typeCheck("function",this.grid.unit)?d=this.grid.unit.call(this.chart,this.grid):t.typeCheck("number",this.grid.unit)?d=this.grid.unit:(n>0&&(n=Math.floor(n)),(d=e.div(r-n,this.grid.step))>1?d=Math.ceil(d):0<d&&d<1&&(d=e.div(Math.ceil(e.multi(d,10)),10))),0==d)i=[0,0];else{for(var g=0,v=e.fixed(d);g<r;)g=v.plus(g,d);for(var m=g;m>n;)m=v.minus(m,d);(i=[m,g]).step=Math.abs(m-g)/d}return this.grid.reverse&&i.reverse(),i},this.drawBefore=function(){var t=this.initDomain(),e=this.getGridSize();if(this.scale=i.linear().domain(t),"left"==this.grid.orient||"right"==this.grid.orient)var n=[e.end,e.start];else n=[e.start,e.end];this.scale.range(n),this.scale.clamp(this.grid.clamp),this.start=e.start,this.size=e.size,this.end=e.end,this.step=t.step,this.nice=this.grid.nice,this.ticks=this.scale.ticks(this.step,this.nice),"left"!=this.grid.orient&&"right"!=this.grid.orient||this.ticks.reverse(),this.bar=6,this.values=[];for(var r=0,a=this.ticks.length;r<a;r++)this.values[r]=this.scale(this.ticks[r])},this.draw=function(){return this.drawGrid("range")}};return r.setup=function(){return{domain:null,step:10,min:0,max:0,unit:null,clamp:!0,reverse:!1,key:null,hideText:!1,nice:!1}},r}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t&&t.__esModule?t:{default:t}}(i(0));e.default={name:"chart.grid.log",extend:"chart.grid.range",component:function(){var t=n.default.include("util.scale"),e=function(){this.drawBefore=function(){this.grid.unit=!1;var e=this.initDomain(),i=this.getGridSize();if(this.scale=t.log(this.grid.base).domain(e),"left"==this.grid.orient||"right"==this.grid.orient)var n=[i.end,i.start];else n=[i.start,i.end];this.scale.range(n),this.start=i.start,this.size=i.size,this.end=i.end,this.step=this.grid.step,this.nice=this.grid.nice,this.ticks=this.scale.ticks(this.step,this.nice),"left"!=this.grid.orient&&"right"!=this.grid.orient||this.ticks.reverse(),this.bar=6,this.values=[];for(var r=0,a=this.ticks.length;r<a;r++)this.values[r]=this.scale(this.ticks[r])},this.draw=function(){return this.drawGrid("log")}};return e.setup=function(){return{base:10,step:4,nice:!1,hideText:!1}},e}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t&&t.__esModule?t:{default:t}}(i(0));e.default={name:"chart.grid.rule",extend:"chart.grid.core",component:function(){var t=n.default.include("util.base"),e=n.default.include("util.scale"),i=function(){this.top=function(t){var e=this.axis.area("height")/2;t.append(this.axisLine({y1:this.center?e:0,y2:this.center?e:0,x1:this.start,x2:this.end}));for(var i=this.ticks,n=this.values,r=this.bar,a=0;a<i.length;a++){var o=this.format(i[a],a);if(o||0===o){var s=0==i[a],h=this.chart.svg.group().translate(n[a],this.center?e:0);h.append(this.line({y1:this.center?-r:0,y2:r,stroke:this.color("gridAxisBorderColor"),"stroke-width":this.chart.theme("gridBorderWidth")})),(!s||s&&!this.hideZero)&&h.append(this.getTextRotate(this.chart.text({x:0,y:r+r+4,"text-anchor":"middle",fill:this.chart.theme("gridFontColor")},o))),t.append(h)}}},this.bottom=function(t){var e=this.axis.area("height")/2;t.append(this.axisLine({y1:this.center?-e:0,y2:this.center?-e:0,x1:this.start,x2:this.end}));for(var i=this.ticks,n=this.values,r=this.bar,a=0;a<i.length;a++){var o=this.format(i[a],a);if(o||0===o){var s=0==i[a],h=this.chart.svg.group().translate(n[a],this.center?-e:0);h.append(this.line({y1:this.center?-r:0,y2:this.center?r:-r,stroke:this.color("gridAxisBorderColor"),"stroke-width":this.chart.theme("gridBorderWidth")})),(!s||s&&!this.hideZero)&&h.append(this.getTextRotate(this.chart.text({x:0,y:2*-r,"text-anchor":"middle",fill:this.chart.theme(s,"gridActiveFontColor","gridFontColor")},o))),t.append(h)}}},this.left=function(t){var e=this.axis.area("width"),i=(this.axis.area("height"),e/2);t.append(this.axisLine({x1:this.center?i:0,x2:this.center?i:0,y1:this.start,y2:this.end}));for(var n=this.ticks,r=this.values,a=this.bar,o=0;o<n.length;o++){var s=this.format(n[o],o);if(s||0===s){var h=0==n[o],u=this.chart.svg.group().translate(this.center?i:0,r[o]);u.append(this.line({x1:this.center?-a:0,x2:a,stroke:this.color("gridAxisBorderColor"),"stroke-width":this.chart.theme("gridBorderWidth")})),(!h||h&&!this.hideZero)&&u.append(this.getTextRotate(this.chart.text({x:a/2+4,y:a-2,fill:this.chart.theme("gridFontColor")},s))),t.append(u)}}},this.right=function(t){var e=this.axis.area("width")/2;t.append(this.axisLine({x1:this.center?-e:0,x2:this.center?-e:0,y1:this.start,y2:this.end}));for(var i=this.ticks,n=this.values,r=this.bar,a=0;a<i.length;a++){var o=this.format(i[a],a);if(o||0===o){var s=0==i[a],h=this.chart.svg.group().translate(this.center?-e:0,n[a]);h.append(this.line({x1:this.center?-r:0,x2:this.center?r:-r,stroke:this.color("gridAxisBorderColor"),"stroke-width":this.chart.theme("gridBorderWidth")})),(!s||s&&!this.hideZero)&&h.append(this.getTextRotate(this.chart.text({x:-r-4,y:r-2,"text-anchor":"end",fill:this.chart.theme("gridFontColor")},o))),t.append(h)}}},this.wrapper=function(e,i){var n=e,r=this;return i?t.extend(function(t){return n(r.axis.data[t][i])},n):n},this.initDomain=function(){var e=[],i=this.grid.min||void 0,n=this.grid.max||void 0,r=this.data(),a=[];if(t.typeCheck("string",this.grid.domain)){var o=this.grid.domain;a=new Array(r.length);for(var s=0,h=r.length;s<h;s++){var u=r[s][o];t.typeCheck("array",u)?(a[s]=Math.max(u),a.push(Math.min(u))):a[s]=u}}else if(t.typeCheck("function",this.grid.domain)){a=new Array(r.length);for(s=0,h=r.length;s<h;s++){u=this.grid.domain.call(this.chart,r[s]);t.typeCheck("array",u)?(a[s]=Math.max.apply(Math,u),a.push(Math.min.apply(Math,u))):a[s]=u}}else a=grid.domain;var l,c=Math.min.apply(Math,a),d=Math.max.apply(Math,a);if(void 0===i&&(i=c),void 0===n&&(n=d),this.grid.max=n,this.grid.min=i,0==(l=t.typeCheck("function",this.grid.unit)?this.grid.unit.call(this.chart,this.grid):t.typeCheck("number",this.grid.unit)?this.grid.unit:Math.ceil((n-i)/this.grid.step)))e=[0,0];else{for(var f=0;f<n;)f+=l;for(var p=f;p>i;)p-=l;e=[p,f]}return this.grid.reverse&&e.reverse(),e},this.drawBefore=function(){var t=this.initDomain(),i=this.getGridSize();if(this.scale=e.linear().domain(t),"left"==this.grid.orient||"right"==this.grid.orient)var n=[i.end,i.start];else n=[i.start,i.end];this.scale.range(n),this.start=i.start,this.size=i.size,this.end=i.end,this.step=this.grid.step,this.nice=this.grid.nice,this.ticks=this.scale.ticks(this.step,this.nice),this.bar=6,this.hideZero=this.grid.hideZero,this.center=this.grid.center,this.values=[];for(var r=0,a=this.ticks.length;r<a;r++)this.values[r]=this.scale(this.ticks[r])},this.draw=function(){return this.drawGrid(chart,orient,"rule",grid)}};return i.setup=function(){return{domain:null,step:10,min:0,max:0,unit:null,clamp:!0,reverse:!1,key:null,hideText:!1,hideZero:!1,nice:!1,center:!1}},i}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t&&t.__esModule?t:{default:t}}(i(0));e.default={name:"chart.grid.panel",extend:"chart.grid.core",component:function(){var t=n.default.include("util.base");return function(){this.custom=function(e){var i=this.scale(0);i.x-=this.axis.area("x"),i.y-=this.axis.area("y"),e.append(this.chart.svg.rect(t.extend(i,{fill:"transparent",stroke:"transparent"})))},this.drawBefore=function(){this.scale=function(t){return function(e){return{x:t.area("x"),y:t.area("y"),width:t.area("width"),height:t.area("height")}}}(this.axis)},this.draw=function(){return this.grid.hide=!0,this.drawGrid("panel")}}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"chart.grid.table",extend:"chart.grid.core",component:function(){var t=function(t,e,i){this.custom=function(t){for(var e=0;e<void 0;e++)for(var i=0;i<void 0;i++){var n=void 0*e+i,r=this.scale(n);r.x-=this.axis.area("x"),r.y-=this.axis.area("y");this.chart.svg.rect(_.extend(r,{fill:"tranparent",stroke:"black"}))}},this.drawBefore=function(){var t=this.grid.rows,e=this.grid.columns,i=this.grid.padding,n=(this.axis.area("width")-(e-1)*i)/e,r=(this.axis.area("height")-(t-1)*i)/t;this.scale=function(t,e,n,r,a){return function(e){var o=Math.floor(e/n),s=e%n,h=s*a,u=o*r,l=i*s,c=i*o;return{x:t.area("x")+h+l,y:t.area("y")+u+c,width:a,height:r}}}(this.axis,0,e,r,n)},this.draw=function(){return this.grid.hide=!0,this.drawGrid("table")}};return t.setup=function(){return{rows:1,columns:1,padding:10}},t}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t&&t.__esModule?t:{default:t}}(i(0));e.default={name:"chart.grid.overlap",extend:"chart.grid.core",component:function(){var t=n.default.include("util.base"),e=function(){var e,i,n,r,a;this.custom=function(){for(var e=0,i=this.axis.data.length;e<i;e++){var n=this.scale(e);n.x-=this.axis.area("x"),n.y-=this.axis.area("y"),this.chart.svg.rect(t.extend(n,{fill:"transparent",stroke:"transparent"}))}},this.drawBefore=function(){e=this.grid.count||this.axis.data.length||1,i=this.axis.area("width")/2/e,n=this.axis.area("height")/2/e,r=this.axis.area("width"),a=this.axis.area("height"),this.scale=function(t){return function(e){var o=e*i,s=e*n;return{x:t.area("x")+o,y:t.area("y")+s,width:2*Math.abs(r/2-o),height:2*Math.abs(a/2-s)}}}(this.axis)},this.draw=function(){return this.grid.hide=!0,this.drawGrid("overlap")}};return e.setup=function(){return{count:null}},e}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t&&t.__esModule?t:{default:t}}(i(0));e.default={name:"chart.grid.grid3d",extend:"chart.grid.core",component:function(){var t=n.default.include("util.base"),e=n.default.include("util.math"),i=function(){var i=this,n=0,r=0,a=0;function o(t){var e=null;return t.each(function(t,i){"line"==i.element.nodeName&&(e=i.attributes)}),e}this.drawBefore=function(){n=this.axis.get("depth"),r=this.axis.get("degree"),a=e.radian(360-r),this.scale=(this.axis,function(e,r,o,s){var h=t.typeCheck("integer",s)?s:1,u=n/h;if(void 0==o||1==h)return{x:i.axis.x(e),y:i.axis.y(r),depth:u};var l=u*(o=void 0==o?0:o),c=Math.sin(a)*u;return{x:i.axis.x(e)+Math.cos(a)*l,y:i.axis.y(r)+Math.sin(a)*l+c,depth:u}}),this.scale.depth=n,this.scale.degree=r,this.scale.radian=a},this.draw=function(){var t=this.axis.x.root,e=this.axis.y.root,r=Math.sin(a)*n,s=Math.cos(a)*n;return e.each(function(n,a){if("line"==a.element.nodeName)e.append(i.line({x1:s,y1:0,x2:s,y2:r+a.attributes.y2}));else{var h=o(t);a.append(i.line({x1:0,y1:0,x2:s,y2:r})),a.append(i.line({x1:s,y1:r,x2:s+h.x2,y2:r}))}}),t.each(function(t,r){var s="line"==r.element.nodeName?r.attributes:r.get(0).attributes,h=s.y1+Math.sin(a)*n,u=s.x1+Math.cos(a)*n;if(t>0){var l=o(e);r.append(i.line({x1:s.x1,y1:s.y1,x2:u,y2:h})),r.append(i.line({x1:u,y1:h,x2:u,y2:-(l.y2-h)}))}}),this.drawGrid()}};return i.setup=function(){return{domain:null}},i}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t&&t.__esModule?t:{default:t}}(i(0));e.default={name:"chart.brush.core",extend:"chart.draw",component:function(){var t=n.default.include("util.base"),e=n.default.include("util.dom"),i=function(){this.drawAfter=function(t){!1!==this.brush.clip&&t.attr({"clip-path":"url(#"+this.axis.get("clipId")+")"}),t.attr({class:"brush-"+this.brush.type}),t.translate(this.chart.area("x"),this.chart.area("y"))},this.drawTooltip=function(t,e,i){var n=this,r=null;return{tooltip:r=n.chart.svg.group({visibility:"hidden"},function(){n.chart.text({fill:n.chart.theme("tooltipPointFontColor"),"font-size":n.chart.theme("tooltipPointFontSize"),"font-weight":n.chart.theme("tooltipPointFontWeight"),"text-anchor":"middle",opacity:i}),n.chart.svg.circle({r:n.chart.theme("tooltipPointRadius"),fill:t,stroke:e,opacity:i,"stroke-width":n.chart.theme("tooltipPointBorderWidth")})}),control:function(t,e,i,n){var a=r.get(0);a.element.textContent=n,"left"==t?a.attr({x:-7,y:4,"text-anchor":"end"}):"right"==t?a.attr({x:7,y:4,"text-anchor":"start"}):"bottom"==t?a.attr({y:16}):a.attr({y:-7}),r.attr({visibility:0!=n?"visible":"hidden"}),r.translate(e,i)},style:function(t,e,i){r.get(0).attr({opacity:i}),r.get(1).attr({fill:t,stroke:e,opacity:i})}}},this.curvePoints=function(t){var e=[],i=[],n=t.length-1,r=[],a=[],o=[],s=[];for(r[0]=0,a[0]=2,o[0]=1,s[0]=t[0]+2*t[1],h=1;h<n-1;h++)r[h]=1,a[h]=4,o[h]=1,s[h]=4*t[h]+2*t[h+1];r[n-1]=2,a[n-1]=7,o[n-1]=0,s[n-1]=8*t[n-1]+t[n];for(var h=1;h<n;h++){var u=r[h]/a[h-1];a[h]=a[h]-u*o[h-1],s[h]=s[h]-u*s[h-1]}e[n-1]=s[n-1]/a[n-1];for(h=n-2;h>=0;--h)e[h]=(s[h]-o[h]*e[h+1])/a[h];for(h=0;h<n-1;h++)i[h]=2*t[h+1]-e[h+1];return i[n-1]=.5*(t[n]+e[n-1]),{p1:e,p2:i}},this.eachData=function(e,i){if(t.typeCheck("function",e)){var n=this.listData();if(!0===i)for(var r=n.length-1;r>=0;r--)e.call(this,r,n[r]);else{var a=0;for(r=n.length;a<r;a++)e.call(this,n[a],a)}}},this.listData=function(){return this.axis&&this.axis.data?this.axis.data:[]},this.getData=function(t){return this.listData()[t]},this.getValue=function(t,e,i){return this.axis.getValue(t,e,i)},this.getXY=function(e){var i=[],n={},r=this.listData().length,a=r,o=this.brush.target,s=o.length;!1!==e&&(n=function(t,e){for(var i={},n={},r=0;r<e.length;r++)i[e[r]]||(n[e[r]]=[]);r=0;for(var a=t.length;r<a;r++){var o=t[r];for(var s in n)n[s].push(o[s])}for(var h in n)i[h]={min:Math.min.apply(Math,n[h]),max:Math.max.apply(Math,n[h])};return i}(this.axis.data,o));for(var h=0;h<s;h++)i[h]={x:new Array(r),y:new Array(r),value:new Array(r),min:[],max:[],length:r};var u=this.axis.data,l="range"==this.axis.y.type,c=this.axis.x,d=this.axis.y;return t.loop(a)(function(t,r){var a=u[t],h=0,f=0;l?h=c(t):f=d(t);for(var p=0;p<s;p++){var g=o[p],v=a[g];l?f=d(v):h=c(v),i[p].x[t]=h,i[p].y[t]=f,i[p].value[t]=v,!1!==e&&(i[p].min[t]=v==n[g].min,i[p].max[t]=v==n[g].max)}}),i},this.getStackXY=function(t){var e=this.getXY(t),i="range"==this.axis.y.type;return this.eachData(function(t,n){for(var r=0,a=0;a<this.brush.target.length;a++){var o=t[this.brush.target[a]];a>0&&(r+=t[this.brush.target[a-1]]),i?e[a].y[n]=this.axis.y(o+r):e[a].x[n]=this.axis.x(o+r)}}),e},this.addEvent=function(i,n,r){if(!0===this.brush.useEvent){var a=this.chart,o={};t.typeCheck("object",n)&&!r?(o.brush=this.brush,o.data=n):(o.brush=this.brush,o.dataIndex=n,o.dataKey=null!=r?this.brush.target[r]:null,o.data=null!=n?this.getData(n):null),i.on("click",function(t){s(t),a.emit("click",[o,t])}),i.on("dblclick",function(t){s(t),a.emit("dblclick",[o,t])}),i.on("contextmenu",function(t){s(t),a.emit("rclick",[o,t]),t.preventDefault()}),i.on("mouseover",function(t){s(t),a.emit("mouseover",[o,t])}),i.on("mouseout",function(t){s(t),a.emit("mouseout",[o,t])}),i.on("mousemove",function(t){s(t),a.emit("mousemove",[o,t])}),i.on("mousedown",function(t){s(t),a.emit("mousedown",[o,t])}),i.on("mouseup",function(t){s(t),a.emit("mouseup",[o,t])})}function s(t){var i=e.offset(a.root),n=t.pageX-i.left,r=t.pageY-i.top;t.bgX=n,t.bgY=r,t.chartX=n-a.padding("left"),t.chartY=r-a.padding("top")}},this.color=function(e,i){var n=this.brush.colors,r=null,a=0,o=0;if(t.typeCheck("undefined",i)?a=e:(a=i,o=e),t.typeCheck("function",n)){var s=n.call(this.chart,this.getData(o),o);r=t.typeCheck(["string","integer"],s)?this.chart.color(s):t.typeCheck("array",s)?this.chart.color(a,s):this.chart.color(0)}else r=this.chart.color(a,n);return r},this.offset=function(t,e){var i=this.axis[t](e);return"block"!=this.axis[t].type&&(i+=this.axis[t].rangeBand()/2),i}};return i.setup=function(){return{target:null,colors:null,axis:0,index:null,clip:!0,useEvent:!0}},i}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"chart.brush.map.core",extend:"chart.brush.core",component:function(){return function(){}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"chart.brush.polygon.core",extend:"chart.brush.core",component:function(){var t=function(){this.createPolygon=function(t,e){this.calculate3d(t);var i=e.call(this,t);if(i)return i.order=this.axis.depth-t.max().z,i}};return t.setup=function(){return{id:null,clip:!1}},t}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t&&t.__esModule?t:{default:t}}(i(0));e.default={name:"chart.brush.canvas.core",extend:"chart.brush.core",component:function(){var t=n.default.include("util.base");return function(){this.addPolygon=function(e,i){t.typeCheck("array",this.polygons)||(this.polygons=[]),this.calculate3d(e),this.polygons.push({polygon:e,order:this.axis.depth-e.max().z,handler:i})},this.drawAfter=function(){if(t.typeCheck("array",this.polygons)){var e=this.polygons;e.sort(function(t,e){return t.order-e.order});for(var i=0,n=e.length;i<n;i++){var r=e.shift();r.handler.call(this,r.polygon)}}}}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t&&t.__esModule?t:{default:t}}(i(0));e.default={name:"chart.widget.core",extend:"chart.draw",component:function(){var t=n.default.include("util.base"),e=function(){this.getIndexArray=function(e){var i=[0];return t.typeCheck("array",e)?i=e:t.typeCheck("integer",e)&&(i=[e]),i},this.getScaleToValue=function(t,e,i,n,r){var a=r-(r-n)/(10*(i-e))*((t-e)/.1);return a<n?n:a>r?r:a},this.getValueToScale=function(t,e,i,n,r){return parseFloat((n+(i-t)/((i-e)/(10*(r-n)))*.1).toFixed(1))},this.isRender=function(){return!0===this.widget.render},this.on=function(e,i,n){var r=this;return this.chart.on(e,function(){if(t.startsWith(e,"axis.")&&t.typeCheck("integer",n)){var a=r.chart.axis(n),o=arguments[0];t.typeCheck("object",a)&&arguments[1]==n&&i.apply(r,[o])}else i.apply(r,arguments)},this.isRender()?"render":"renderAll")},this.drawAfter=function(t){t.attr({class:"widget-"+this.widget.type})}};return e.setup=function(){return{render:!1,index:0}},e}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"chart.widget.map.core",extend:"chart.widget.core",component:function(){var t=function(t,e,i){};return t.setup=function(){return{axis:0}},t}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"chart.widget.polygon.core",extend:"chart.widget.core",component:function(){return function(){this.drawAfter=function(t){}}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"chart.widget.canvas.core",extend:"chart.widget.core",component:function(){return function(){this.drawAfter=function(t){}}}}}]);